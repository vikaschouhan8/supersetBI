{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{2857:function(e,t,n){},2858:function(e,t,n){},2859:function(e,t){e.exports=function(e){function t(){return\"bottom\"==g.nullValueSeparator?[y()+1-g.nullValueSeparatorPadding.bottom-g.nullValueSeparatorPadding.top,1]:\"top\"==g.nullValueSeparator?[y()+1,1+g.nullValueSeparatorPadding.bottom+g.nullValueSeparatorPadding.top]:[y()+1,1]}function n(){if(g.brushed&&g.brushed.length!==g.data.length)return!0;var e=C.currentMode().brushState();for(var t in e)if(e.hasOwnProperty(t))return!0;return!1}function r(e,t){var n=function(e){var t=e.length,n=g.smoothness,r=[];r.push(e[0]),r.push($V([e[0].e(1)+2*n*(e[1].e(1)-e[0].e(1)),e[0].e(2)]));for(var i=1;i<t-1;++i){var a=e[i],o=e[i-1],s=e[i+1],l=o.subtract(s);r.push(a.add(l.x(n))),r.push(a),r.push(a.subtract(l.x(n)))}return r.push($V([e[t-1].e(1)+2*n*(e[t-2].e(1)-e[t-1].e(1)),e[t-1].e(2)])),r.push(e[t-1]),r}(function(e){for(var t=[],n=g.dimensions,r=n.length,i=0;i<r;++i){var a=m(n[i]),o=M[n[i]](e[n[i]]);if(t.push($V([a,o])),i<r-1){var s=a+.5*(m(n[i+1])-a),l=o+.5*(M[n[i+1]](e[n[i+1]])-o);if(null!==g.bundleDimension){var u=.5*(g.clusterCentroids.get(M[g.bundleDimension](e[g.bundleDimension])).get(n[i])+g.clusterCentroids.get(M[g.bundleDimension](e[g.bundleDimension])).get(n[i+1]));l=u+(1-g.bundlingStrength)*(l-u)}t.push($V([s,l]))}}return t}(e));t.moveTo(n[0].e(1),n[0].e(2));for(var r=1;r<n.length;r+=3){if(g.showControlPoints)for(var i=0;3>i;i++)t.fillRect(n[r+i].e(1),n[r+i].e(2),2,2);t.bezierCurveTo(n[r].e(1),n[r].e(2),n[r+1].e(1),n[r+1].e(2),n[r+2].e(1),n[r+2].e(2))}}function i(e,t){t.beginPath(),null!==g.bundleDimension&&0<g.bundlingStrength||0<g.smoothness?r(e,t):function(e,t){g.dimensions.map(function(n,r){0==r?t.moveTo(m(n),void 0===e[n]?a():M[n](e[n])):t.lineTo(m(n),void 0===e[n]?a():M[n](e[n]))})}(e,t),t.stroke()}function a(){return\"bottom\"==g.nullValueSeparator?y()+1:\"top\"==g.nullValueSeparator?1:(console.log(\"A value is NULL, but nullValueSeparator is not set; set it to 'bottom' or 'top'.\"),y()+1)}function o(e,t){return k.brushed.strokeStyle=null===g.brushedColor?d3.functor(g.color)(e,t):d3.functor(g.brushedColor)(e,t),i(e,k.brushed)}function s(e,t){return k.foreground.strokeStyle=d3.functor(g.color)(e,t),i(e,k.foreground)}function l(e,t){return k.highlight.strokeStyle=d3.functor(g.color)(e,t),i(e,k.highlight)}function u(e){v.svg.selectAll(\".dimension\"),v.flip(e),d3.select(this.parentElement).transition().duration(1100).call(S.scale(M[e])),v.render()}function c(){var e=d3.event.deltaY;e=0<(e=0>e?-5:e)?5:e,g.dimensionTitleRotation+=e,v.svg.selectAll(\"text.label\").attr(\"transform\",\"translate(0,-5) rotate(\"+g.dimensionTitleRotation+\")\"),d3.event.preventDefault()}function d(e){return e in g.dimensionTitles?g.dimensionTitles[e]:e}function h(e){g.brushed=e,b.brush.call(v,g.brushed),v.renderBrushed()}function f(e){if(!arguments.length)return C.predicate;if(\"AND\"!==(e=(e+\"\").toUpperCase())&&\"OR\"!==e)throw\"Invalid predicate \"+e;return C.predicate=e,g.brushed=C.currentMode().selected(),v.renderBrushed(),v}function m(e){var t=P[e];return null==t?w(e):t}var g={data:[],highlighted:[],dimensions:[],dimensionTitles:{},dimensionTitleRotation:0,types:{},brushed:!1,brushedColor:null,alphaOnBrushed:0,mode:\"default\",rate:20,width:600,height:300,margin:{top:24,right:0,bottom:12,left:0},nullValueSeparator:\"undefined\",nullValueSeparatorPadding:{top:8,right:0,bottom:8,left:0},color:\"#069\",composite:\"source-over\",alpha:.7,bundlingStrength:.5,bundleDimension:null,smoothness:0,showControlPoints:!1,hideAxis:[]};!function(e,t){for(var n in t)e[n]=t[n]}(g,e);var p,v=function(e){return e=v.selection=d3.select(e),g.width=e[0][0].clientWidth,g.height=e[0][0].clientHeight,[\"marks\",\"foreground\",\"brushed\",\"highlight\"].forEach(function(t){D[t]=e.append(\"canvas\").attr(\"class\",t)[0][0],k[t]=D[t].getContext(\"2d\")}),v.svg=e.append(\"svg\").attr(\"width\",g.width).attr(\"height\",g.height).append(\"svg:g\").attr(\"transform\",\"translate(\"+g.margin.left+\",\"+g.margin.top+\")\"),v},b=d3.dispatch.apply(this,[\"render\",\"resize\",\"highlight\",\"brush\",\"brushend\",\"axesreorder\"].concat(d3.keys(g))),x=function(){return g.width-g.margin.right-g.margin.left},y=function(){return g.height-g.margin.top-g.margin.bottom},A={brushable:!1,reorderable:!1,axes:!1,interactive:!1,debug:!1},w=d3.scale.ordinal(),M={},P={},S=(d3.svg.line(),d3.svg.axis().orient(\"left\").ticks(5)),k={},D={},N=d3.dispatch.apply(this,d3.keys(g)).on(\"composite\",function(e){k.foreground.globalCompositeOperation=e.value,k.brushed.globalCompositeOperation=e.value}).on(\"alpha\",function(e){k.foreground.globalAlpha=e.value,k.brushed.globalAlpha=e.value}).on(\"brushedColor\",function(e){k.brushed.strokeStyle=e.value}).on(\"width\",function(){v.resize()}).on(\"height\",function(){v.resize()}).on(\"margin\",function(){v.resize()}).on(\"rate\",function(e){E.rate(e.value),O.rate(e.value)}).on(\"dimensions\",function(){w.domain(g.dimensions),A.interactive&&v.render().updateAxes()}).on(\"bundleDimension\",function(e){g.dimensions.length||v.detectDimensions(),g.dimensions[0]in M||v.autoscale(),\"number\"==typeof e.value?e.value<g.dimensions.length?g.bundleDimension=g.dimensions[e.value]:e.value<g.hideAxis.length&&(g.bundleDimension=g.hideAxis[e.value]):g.bundleDimension=e.value,g.clusterCentroids=function(e){var t=d3.map(),n=d3.map();return g.data.forEach(function(t){var r=M[e](t[e]);n.has(r)||n.set(r,0);var i=n.get(r);n.set(r,i+1)}),g.data.forEach(function(r){g.dimensions.map(function(i){var a=M[e](r[e]);if(!t.has(a)){var o=d3.map();t.set(a,o)}t.get(a).has(i)||t.get(a).set(i,0);var s=t.get(a).get(i);s+=M[i](r[i])/n.get(a),t.get(a).set(i,s)})}),t}(g.bundleDimension)}).on(\"hideAxis\",function(e){g.dimensions.length||v.detectDimensions(),v.dimensions(function(e,t){return e.filter(function(e){return-1===t.indexOf(e)})}(g.dimensions,e.value))});v.state=g,v.flags=A,function(e,t,n){d3.keys(t).forEach(function(r){e[r]=function(i){if(!arguments.length)return t[r];var a=t[r];return t[r]=i,N[r].call(v,{value:i,previous:a}),n[r].call(v,{value:i,previous:a}),e}})}(v,g,b),d3.rebind(v,b,\"on\"),v.autoscale=function(){var e={date:function(e){var n=d3.extent(g.data,function(t){return t[e]?t[e].getTime():null});return n[0]===n[1]?d3.scale.ordinal().domain([n[0]]).rangePoints(t()):d3.time.scale().domain(n).range(t())},number:function(e){var n=d3.extent(g.data,function(t){return+t[e]});return n[0]===n[1]?d3.scale.ordinal().domain([n[0]]).rangePoints(t()):d3.scale.linear().domain(n).range(t())},string:function(e){var n,r={};return g.data.map(function(t){void 0===t[e]&&\"undefined\"!==g.nullValueSeparator||(void 0===r[t[e]]?r[t[e]]=1:r[t[e]]=r[t[e]]+1)}),n=Object.getOwnPropertyNames(r).sort(function(e,t){return r[e]-r[t]}),d3.scale.ordinal().domain(n).rangePoints(t())}};return g.dimensions.forEach(function(t){M[t]=e[g.types[t]](t)}),g.hideAxis.forEach(function(t){M[t]=e[g.types[t]](t)}),w.rangePoints([0,x()],1),v.selection.selectAll(\"canvas\").style(\"margin-top\",g.margin.top+\"px\").style(\"margin-left\",g.margin.left+\"px\").attr(\"width\",x()+2).attr(\"height\",y()+2),k.foreground.strokeStyle=g.color,k.foreground.lineWidth=1.4,k.foreground.globalCompositeOperation=g.composite,k.foreground.globalAlpha=g.alpha,k.brushed.strokeStyle=g.brushedColor,k.brushed.lineWidth=1.4,k.brushed.globalCompositeOperation=g.composite,k.brushed.globalAlpha=g.alpha,k.highlight.lineWidth=3,this},v.scale=function(e,t){return M[e].domain(t),this},v.flip=function(e){return M[e].domain(M[e].domain().reverse()),this},v.commonScale=function(e,t){void 0===e&&(e=!0);var n=g.dimensions.concat(g.hideAxis).filter(function(e){return g.types[e]==(t||\"number\")});if(e){var r=d3.extent(n.map(function(e){return M[e].domain()}).reduce(function(e,t){return e.concat(t)}));n.forEach(function(e){M[e].domain(r)})}else n.forEach(function(e){M[e].domain(d3.extent(g.data,function(t){return+t[e]}))});return null!==g.bundleDimension&&v.bundleDimension(g.bundleDimension),this},v.detectDimensions=function(){return v.types(v.detectDimensionTypes(g.data)),v.dimensions(d3.keys(v.types())),this},v.toType=function(e){return{}.toString.call(e).match(/\\s([a-zA-Z]+)/)[1].toLowerCase()},v.toTypeCoerceNumbers=function(e){return parseFloat(e)==e&&null!=e?\"number\":v.toType(e)},v.detectDimensionTypes=function(e){var t={};return d3.keys(e[0]).forEach(function(n){t[n]=v.toTypeCoerceNumbers(e[0][n])}),t},v.render=function(){return g.dimensions.length||v.detectDimensions(),g.dimensions[0]in M||v.autoscale(),v.render[g.mode](),b.render.call(this),this},v.renderBrushed=function(){return g.dimensions.length||v.detectDimensions(),g.dimensions[0]in M||v.autoscale(),v.renderBrushed[g.mode](),b.render.call(this),this},v.render.default=function(){v.clear(\"foreground\"),v.clear(\"highlight\"),v.renderBrushed.default(),g.data.forEach(s)};var O=d3.renderQueue(s).rate(50).clear(function(){v.clear(\"foreground\"),v.clear(\"highlight\")});v.render.queue=function(){v.renderBrushed.queue(),O(g.data)},v.renderBrushed.default=function(){v.clear(\"brushed\"),n()&&g.brushed.forEach(o)};var E=d3.renderQueue(o).rate(50).clear(function(){v.clear(\"brushed\")});v.renderBrushed.queue=function(){n()?E(g.brushed):E([])},v.shadows=function(){return A.shadows=!0,v.alphaOnBrushed(.1),v.render(),this},v.axisDots=function(e){e=e||.1;var t=v.ctx.marks,n=2*Math.PI;return t.globalAlpha=d3.min([1/Math.pow(g.data.length,.5),1]),g.data.forEach(function(r){g.dimensions.map(function(i){t.beginPath(),t.arc(m(i),M[i](r[i]),e,0,n),t.stroke(),t.fill()})}),this},v.clear=function(e){return k[e].clearRect(0,0,x()+2,y()+2),\"brushed\"===e&&n()&&(k.brushed.fillStyle=v.selection.style(\"background-color\"),k.brushed.globalAlpha=1-g.alphaOnBrushed,k.brushed.fillRect(0,0,x()+2,y()+2),k.brushed.globalAlpha=g.alpha),this},d3.rebind(v,S,\"ticks\",\"orient\",\"tickValues\",\"tickSubdivide\",\"tickSize\",\"tickPadding\",\"tickFormat\"),v.createAxes=function(){return p&&v.removeAxes(),(p=v.svg.selectAll(\".dimension\").data(g.dimensions,function(e){return e}).enter().append(\"svg:g\").attr(\"class\",\"dimension\").attr(\"transform\",function(e){return\"translate(\"+w(e)+\")\"})).append(\"svg:g\").attr(\"class\",\"axis\").attr(\"transform\",\"translate(0,0)\").each(function(e){d3.select(this).call(S.scale(M[e]))}).append(\"svg:text\").attr({\"text-anchor\":\"middle\",y:0,transform:\"translate(0,-5) rotate(\"+g.dimensionTitleRotation+\")\",x:0,class:\"label\"}).text(d).on(\"dblclick\",u).on(\"wheel\",c),\"top\"==g.nullValueSeparator?v.svg.append(\"line\").attr(\"x1\",0).attr(\"y1\",1+g.nullValueSeparatorPadding.top).attr(\"x2\",x()).attr(\"y2\",1+g.nullValueSeparatorPadding.top).attr(\"stroke-width\",1).attr(\"stroke\",\"#777\").attr(\"fill\",\"none\").attr(\"shape-rendering\",\"crispEdges\"):\"bottom\"==g.nullValueSeparator&&v.svg.append(\"line\").attr(\"x1\",0).attr(\"y1\",y()+1-g.nullValueSeparatorPadding.bottom).attr(\"x2\",x()).attr(\"y2\",y()+1-g.nullValueSeparatorPadding.bottom).attr(\"stroke-width\",1).attr(\"stroke\",\"#777\").attr(\"fill\",\"none\").attr(\"shape-rendering\",\"crispEdges\"),A.axes=!0,this},v.removeAxes=function(){return p.remove(),this},v.updateAxes=function(){var e=v.svg.selectAll(\".dimension\").data(g.dimensions);if(e.enter().append(\"svg:g\").attr(\"class\",\"dimension\").attr(\"transform\",function(e){return\"translate(\"+m(e)+\")\"}).style(\"opacity\",0).append(\"svg:g\").attr(\"class\",\"axis\").attr(\"transform\",\"translate(0,0)\").each(function(e){d3.select(this).call(S.scale(M[e]))}).append(\"svg:text\").attr({\"text-anchor\":\"middle\",y:0,transform:\"translate(0,-5) rotate(\"+g.dimensionTitleRotation+\")\",x:0,class:\"label\"}).text(d).on(\"dblclick\",u).on(\"wheel\",c),e.attr(\"opacity\",0),e.select(\".axis\").transition().duration(1100).each(function(e){d3.select(this).call(S.scale(M[e]))}),e.select(\".label\").transition().duration(1100).text(d).attr(\"transform\",\"translate(0,-5) rotate(\"+g.dimensionTitleRotation+\")\"),e.exit().remove(),(p=v.svg.selectAll(\".dimension\")).transition().duration(1100).attr(\"transform\",function(e){return\"translate(\"+m(e)+\")\"}).style(\"opacity\",1),v.svg.selectAll(\".axis\").transition().duration(1100).each(function(e){d3.select(this).call(S.scale(M[e]))}),A.brushable&&v.brushable(),A.reorderable&&v.reorderable(),\"None\"!==v.brushMode()){var t=v.brushMode();v.brushMode(\"None\"),v.brushMode(t)}return this},v.reorderable=function(){return p||v.createAxes(),p.style(\"cursor\",\"move\").call(d3.behavior.drag().on(\"dragstart\",function(e){P[e]=this.__origin__=w(e)}).on(\"drag\",function(e){P[e]=Math.min(x(),Math.max(0,this.__origin__+=d3.event.dx)),g.dimensions.sort(function(e,t){return m(e)-m(t)}),w.domain(g.dimensions),v.render(),p.attr(\"transform\",function(e){return\"translate(\"+m(e)+\")\"})}).on(\"dragend\",function(e){for(var t=0,n=g.dimensions.indexOf(e),r=this,i=this.parentElement;null!=(r=r.previousElementSibling);)++t;t!==n&&(b.axesreorder.call(v,g.dimensions),t>n?i.insertBefore(this,i.children[n-1]):n+1<i.children.length?i.insertBefore(this,i.children[n+1]):i.appendChild(this)),delete this.__origin__,delete P[e],d3.select(this).transition().attr(\"transform\",\"translate(\"+w(e)+\")\"),v.render()})),A.reorderable=!0,this},v.reorder=function(e){var t=g.dimensions.slice(0);g.dimensions.sort(function(t,n){var r=M[t](e[t])-M[n](e[n]);return 0==r?t.localeCompare(n):r});var n=!1;if(t.some(function(e,t){return n=e!==g.dimensions[t]}),n){w.domain(g.dimensions);var r=g.highlighted.slice(0);v.unhighlight(),p.transition().duration(1500).attr(\"transform\",function(e){return\"translate(\"+w(e)+\")\"}),v.render(),0!==r.length&&v.highlight(r)}},v.adjacent_pairs=function(e){for(var t=[],n=0;n<e.length-1;n++)t.push([e[n],e[n+1]]);return t};var C={modes:{None:{install:function(){},uninstall:function(){},selected:function(){return[]},brushState:function(){return{}}}},mode:\"None\",predicate:\"AND\",currentMode:function(){return this.modes[this.mode]}};return v.brushModes=function(){return Object.getOwnPropertyNames(C.modes)},v.brushMode=function(e){if(0===arguments.length)return C.mode;if(-1===v.brushModes().indexOf(e))throw\"pc.brushmode: Unsupported brush mode: \"+e;return e!==C.mode&&(\"None\"!==C.mode&&v.brushReset(),C.modes[C.mode].uninstall(v),C.mode=e,C.modes[C.mode].install(),\"None\"===e?delete v.brushPredicate:v.brushPredicate=f),v},function(){function e(e){return!i[e].empty()}function t(){var t=g.dimensions.filter(e),n=t.map(function(e){return i[e].extent()});if(0===t.length)return g.data;var r={date:function(e,t,r){return\"function\"==typeof M[t].rangePoints?n[r][0]<=M[t](e[t])&&M[t](e[t])<=n[r][1]:n[r][0]<=e[t]&&e[t]<=n[r][1]},number:function(e,t,r){return\"function\"==typeof M[t].rangePoints?n[r][0]<=M[t](e[t])&&M[t](e[t])<=n[r][1]:n[r][0]<=e[t]&&e[t]<=n[r][1]},string:function(e,t,r){return n[r][0]<=M[t](e[t])&&M[t](e[t])<=n[r][1]}};return g.data.filter(function(e){switch(C.predicate){case\"AND\":return t.every(function(t,n){return r[g.types[t]](e,t,n)});case\"OR\":return t.some(function(t,n){return r[g.types[t]](e,t,n)});default:throw\"Unknown brush predicate \"+g.brushPredicate}})}function n(e){if(void 0===e){e={};return g.dimensions.forEach(function(t){var n=i[t];if(void 0!==n&&!n.empty()){var r=n.extent();r.sort(d3.ascending),e[t]=r}}),e}var t={};p.selectAll(\".brush\").each(function(e){t[e]=d3.select(this)}),g.dimensions.forEach(function(n){if(void 0!==e[n]){var r=i[n];void 0!==r&&(r.extent(e[n]),r(t[n]),r.event(t[n]))}}),v.renderBrushed()}function r(){return g.brushed=!1,p&&(p.selectAll(\".brush\").each(function(e){d3.select(this).call(i[e].clear())}),v.renderBrushed()),this}var i={};C.modes[\"1D-axes\"]={install:function(){return p||v.createAxes(),p.append(\"svg:g\").attr(\"class\",\"brush\").each(function(e){d3.select(this).call(function(e){var n=d3.svg.brush();return n.y(M[e]).on(\"brushstart\",function(){null!==d3.event.sourceEvent&&d3.event.sourceEvent.stopPropagation()}).on(\"brush\",function(){h(t())}).on(\"brushend\",function(){b.brushend.call(v,g.brushed)}),i[e]=n,n}(e))}).selectAll(\"rect\").style(\"visibility\",null).attr(\"x\",-15).attr(\"width\",30),v.brushExtents=n,v.brushReset=r,v},uninstall:function(){p.selectAll(\".brush\").remove(),i={},delete v.brushExtents,delete v.brushReset},selected:t,brushState:n}}(),function(){function e(){return function(){var e,t,n=d3.mouse(a[0][0]);n[0]-=g.margin.left,n[1]-=g.margin.top,t={p1:n,dims:e=function(e){var t={i:-1,left:void 0,right:void 0};return g.dimensions.some(function(n,r){if(w(n)<e[0]){var i=g.dimensions[r+1];return t.i=r,t.left=n,t.right=i,!1}return!0}),void 0===t.left?(t.i=0,t.left=g.dimensions[0],t.right=g.dimensions[1]):void 0===t.right&&(t.i=g.dimensions.length-1,t.right=t.left,t.left=g.dimensions[g.dimensions.length-2]),t}(n),minX:w(e.left),maxX:w(e.right),minY:0,maxY:y()},o[e.i]=t,o.active=e.i,t.p1[0]=Math.min(Math.max(t.minX,n[0]),t.maxX),t.p2=t.p1.slice()}}function t(){return function(){var e=d3.event,t=o[o.active];t.p2[0]=Math.min(Math.max(t.minX+1,e.x-g.margin.left),t.maxX),t.p2[1]=Math.min(Math.max(t.minY,e.y-g.margin.top),t.maxY),function e(t,n){var r=v.selection.select(\"svg\").select(\"g#strums\"),a=t.dims.i,o=[t.p1,t.p2],s=r.selectAll(\"line#strum-\"+a).data([t]),l=r.selectAll(\"circle#strum-\"+a).data(o),u=d3.behavior.drag();s.enter().append(\"line\").attr(\"id\",\"strum-\"+a).attr(\"class\",\"strum\"),s.attr(\"x1\",function(e){return e.p1[0]}).attr(\"y1\",function(e){return e.p1[1]}).attr(\"x2\",function(e){return e.p2[0]}).attr(\"y2\",function(e){return e.p2[1]}).attr(\"stroke\",\"black\").attr(\"stroke-width\",2),u.on(\"drag\",function(n,r){var i=d3.event;t[\"p\"+ ++r][0]=Math.min(Math.max(t.minX+1,i.x),t.maxX),t[\"p\"+r][1]=Math.min(Math.max(t.minY,i.y),t.maxY),e(t,r-1)}).on(\"dragend\",i()),l.enter().append(\"circle\").attr(\"id\",\"strum-\"+a).attr(\"class\",\"strum\"),l.attr(\"cx\",function(e){return e[0]}).attr(\"cy\",function(e){return e[1]}).attr(\"r\",5).style(\"opacity\",function(e,t){return void 0!==n&&t===n?.8:0}).on(\"mouseover\",function(){d3.select(this).style(\"opacity\",.8)}).on(\"mouseout\",function(){d3.select(this).style(\"opacity\",0)}).call(u)}(t,1)}}function n(){function e(e,t){var n=o[t],r=function(e,t){var n=[e.p1[0]-e.minX,e.p1[1]-e.minX],r=[e.p2[0]-e.minX,e.p2[1]-e.minX],i=1-t/n[0],a=n[1]*(1-i),o=1-t/r[0],s=r[1]*(1-o);return function(e){var t=e[0],n=e[1],r=i*t+a,l=o*t+s;return!!(n>Math.min(r,l)&&n<Math.max(r,l))}}(n,o.width(t)),i=n.dims.left,a=n.dims.right,s=M[i],l=M[a];return r([s(e[i])-n.minX,l(e[a])-n.minX])}var t=Object.getOwnPropertyNames(o),n=g.data;return 0===(t=t.filter(function(e){return!isNaN(e)})).length?n:n.filter(function(n){switch(C.predicate){case\"AND\":return t.every(function(t){return e(n,t)});case\"OR\":return t.some(function(t){return e(n,t)});default:throw\"Unknown brush predicate \"+g.brushPredicate}})}function r(){var e=o[o.active],t=v.selection.select(\"svg\").select(\"g#strums\");delete o[o.active],o.active=void 0,t.selectAll(\"line#strum-\"+e.dims.i).remove(),t.selectAll(\"circle#strum-\"+e.dims.i).remove()}function i(){return function(){var e=g.data,t=o[o.active];t&&t.p1[0]===t.p2[0]&&t.p1[1]===t.p2[1]&&r(),e=n(),o.active=void 0,g.brushed=e,v.renderBrushed(),b.brushend.call(v,g.brushed)}}var a,o={};C.modes[\"2D-strums\"]={install:function(){var n=d3.behavior.drag();o.active=void 0,o.width=function(e){var t=o[e];return void 0===t?void 0:t.maxX-t.minX},v.on(\"axesreorder.strums\",function(){var e=Object.getOwnPropertyNames(o).filter(function(e){return!isNaN(e)});0<e.length&&(e.forEach(function(e){var t=o[e].dims;o.active=e,function(e,t){var n=g.dimensions.length;return g.dimensions.some(function(r,i){return r===e&&i+i<n&&g.dimensions[i+1]===t})}(t.left,t.right)||r()}),i()())}),v.selection.select(\"svg\").append(\"g\").attr(\"id\",\"strums\").attr(\"transform\",\"translate(\"+g.margin.left+\",\"+g.margin.top+\")\"),v.brushReset=function(e){return function(){Object.getOwnPropertyNames(e).filter(function(e){return!isNaN(e)}).forEach(function(t){e.active=t,r()}),i()()}}(o),n.on(\"dragstart\",e()).on(\"drag\",t()).on(\"dragend\",i()),a=v.selection.select(\"svg\").insert(\"rect\",\"g#strums\").attr(\"id\",\"strum-events\").attr(\"x\",g.margin.left).attr(\"y\",g.margin.top).attr(\"width\",x()).attr(\"height\",y()+2).style(\"opacity\",0).call(n)},uninstall:function(){v.selection.select(\"svg\").select(\"g#strums\").remove(),v.selection.select(\"svg\").select(\"rect#strum-events\").remove(),v.on(\"axesreorder.strums\",void 0),delete v.brushReset,a=void 0},selected:n,brushState:function(){return o}}}(),function(){function e(e){return!i[e].empty()}function t(){var t=g.dimensions.filter(e),n=t.map(function(e){return i[e].extent()});if(0===t.length)return g.data;var r={date:function(e,t,n,r){return\"function\"==typeof M[t].rangePoints?r[0]<=M[t](e[t])&&M[t](e[t])<=r[1]:r[0]<=e[t]&&e[t]<=r[1]},number:function(e,t,n,r){return\"function\"==typeof M[t].rangePoints?r[0]<=M[t](e[t])&&M[t](e[t])<=r[1]:r[0]<=e[t]&&e[t]<=r[1]},string:function(e,t,n,r){return r[0]<=M[t](e[t])&&M[t](e[t])<=r[1]}};return g.data.filter(function(e){switch(C.predicate){case\"AND\":return t.every(function(t,i){return n[i].some(function(n){return r[g.types[t]](e,t,i,n)})});case\"OR\":return t.some(function(t,i){return n[i].some(function(n){return r[g.types[t]](e,t,i,n)})});default:throw\"Unknown brush predicate \"+g.brushPredicate}})}function n(){var e={};return g.dimensions.forEach(function(t){var n=i[t];if(void 0!==n&&!n.empty()){var r=n.extent();e[t]=r}}),e}function r(){return g.brushed=!1,p&&(p.selectAll(\".brush\").each(function(e){d3.select(this).call(i[e].clear())}),v.renderBrushed()),this}if(\"function\"==typeof d3.svg.multibrush){var i={};C.modes[\"1D-axes-multi\"]={install:function(){return p||v.createAxes(),p.append(\"svg:g\").attr(\"class\",\"brush\").each(function(e){d3.select(this).call(function(e){var n=d3.svg.multibrush();return n.y(M[e]).on(\"brushstart\",function(){null!==d3.event.sourceEvent&&d3.event.sourceEvent.stopPropagation()}).on(\"brush\",function(){h(t())}).on(\"brushend\",function(){h(t()),b.brushend.call(v,g.brushed)}).extentAdaption(function(e){e.style(\"visibility\",null).attr(\"x\",-15).attr(\"width\",30)}).resizeAdaption(function(e){e.selectAll(\"rect\").attr(\"x\",-15).attr(\"width\",30)}),i[e]=n,n}(e))}).selectAll(\"rect\").style(\"visibility\",null).attr(\"x\",-15).attr(\"width\",30),v.brushExtents=n,v.brushReset=r,v},uninstall:function(){p.selectAll(\".brush\").remove(),i={},delete v.brushExtents,delete v.brushReset},selected:t,brushState:n}}}(),function(){function e(){return function(){var e,t,n=d3.mouse(o[0][0]);n[0]-=g.margin.left,n[1]-=g.margin.top,t={p1:n,dims:e=function(e){var t={i:-1,left:void 0,right:void 0};return g.dimensions.some(function(n,r){if(w(n)<e[0]){var i=g.dimensions[r+1];return t.i=r,t.left=n,t.right=i,!1}return!0}),void 0===t.left?(t.i=0,t.left=g.dimensions[0],t.right=g.dimensions[1]):void 0===t.right&&(t.i=g.dimensions.length-1,t.right=t.left,t.left=g.dimensions[g.dimensions.length-2]),t}(n),minX:w(e.left),maxX:w(e.right),minY:0,maxY:y(),startAngle:void 0,endAngle:void 0,arc:d3.svg.arc().innerRadius(0)},s[e.i]=t,s.active=e.i,t.p1[0]=Math.min(Math.max(t.minX,n[0]),t.maxX),t.p2=t.p1.slice(),t.p3=t.p1.slice()}}function t(){return function(){var e=d3.event,t=s[s.active];t.p2[0]=Math.min(Math.max(t.minX+1,e.x-g.margin.left),t.maxX),t.p2[1]=Math.min(Math.max(t.minY,e.y-g.margin.top),t.maxY),t.p3=t.p2.slice(),function e(t,n){var r=v.selection.select(\"svg\").select(\"g#arcs\"),i=t.dims.i,o=[t.p2,t.p3],l=r.selectAll(\"line#arc-\"+i).data([{p1:t.p1,p2:t.p2},{p1:t.p1,p2:t.p3}]),u=r.selectAll(\"circle#arc-\"+i).data(o),c=d3.behavior.drag(),d=r.selectAll(\"path#arc-\"+i).data([t]);d.enter().append(\"path\").attr(\"id\",\"arc-\"+i).attr(\"class\",\"arc\").style(\"fill\",\"orange\").style(\"opacity\",.5),d.attr(\"d\",t.arc).attr(\"transform\",\"translate(\"+t.p1[0]+\",\"+t.p1[1]+\")\"),l.enter().append(\"line\").attr(\"id\",\"arc-\"+i).attr(\"class\",\"arc\"),l.attr(\"x1\",function(e){return e.p1[0]}).attr(\"y1\",function(e){return e.p1[1]}).attr(\"x2\",function(e){return e.p2[0]}).attr(\"y2\",function(e){return e.p2[1]}).attr(\"stroke\",\"black\").attr(\"stroke-width\",2),c.on(\"drag\",function(n,r){var a,o=d3.event;t[\"p\"+(r+=2)][0]=Math.min(Math.max(t.minX+1,o.x),t.maxX),t[\"p\"+r][1]=Math.min(Math.max(t.minY,o.y),t.maxY),a=3===r?s.startAngle(i):s.endAngle(i),(t.startAngle<Math.PI&&t.endAngle<Math.PI&&a<Math.PI||t.startAngle>=Math.PI&&t.endAngle>=Math.PI&&a>=Math.PI)&&(2===r?(t.endAngle=a,t.arc.endAngle(a)):3==r&&(t.startAngle=a,t.arc.startAngle(a))),e(t,r-2)}).on(\"dragend\",a()),u.enter().append(\"circle\").attr(\"id\",\"arc-\"+i).attr(\"class\",\"arc\"),u.attr(\"cx\",function(e){return e[0]}).attr(\"cy\",function(e){return e[1]}).attr(\"r\",5).style(\"opacity\",function(e,t){return void 0!==n&&t===n?.8:0}).on(\"mouseover\",function(){d3.select(this).style(\"opacity\",.8)}).on(\"mouseout\",function(){d3.select(this).style(\"opacity\",0)}).call(c)}(t,1)}}function n(e,t){return Math.sqrt(e*e+t*t)}function r(){function e(e,t){var r=s[t],i=function(e){var t=l(e.startAngle),n=l(e.endAngle);if(t>n){var r=t;t=n,n=r}return function(e){return!!(e>=t&&e<=n)}}(r),a=r.dims.left,o=r.dims.right,u=M[a],c=M[o],d=s.width(t),h=u(e[a])-c(e[o]),f=n(d,h);return i(Math.asin(h/f))}var t=Object.getOwnPropertyNames(s),r=g.data;return 0===(t=t.filter(function(e){return!isNaN(e)})).length?r:r.filter(function(n){switch(C.predicate){case\"AND\":return t.every(function(t){return e(n,t)});case\"OR\":return t.some(function(t){return e(n,t)});default:throw\"Unknown brush predicate \"+g.brushPredicate}})}function i(){var e=s[s.active],t=v.selection.select(\"svg\").select(\"g#arcs\");delete s[s.active],s.active=void 0,t.selectAll(\"line#arc-\"+e.dims.i).remove(),t.selectAll(\"circle#arc-\"+e.dims.i).remove(),t.selectAll(\"path#arc-\"+e.dims.i).remove()}function a(){return function(){var e=g.data,t=s[s.active];if(t&&t.p1[0]===t.p2[0]&&t.p1[1]===t.p2[1]&&i(),t){var n=s.startAngle(s.active);t.startAngle=n,t.endAngle=n,t.arc.outerRadius(s.length(s.active)).startAngle(n).endAngle(n)}e=r(),s.active=void 0,g.brushed=e,v.renderBrushed(),b.brushend.call(v,g.brushed)}}var o,s={},l=(function(){var e=Math.PI/180}(),function(){var e=180/Math.PI}(),function(e){var t=e;return e>Math.PI?(t=e-1.5*Math.PI,t=e-1.5*Math.PI):(t=e-.5*Math.PI,t=e-.5*Math.PI),-t});C.modes.angular={install:function(){var r=d3.behavior.drag();s.active=void 0,s.width=function(e){var t=s[e];return void 0===t?void 0:t.maxX-t.minX},angle=function(e,t){var r=e[0]-t[0],i=e[1]-t[1],a=n(r,i);return Math.asin(i/a)},s.endAngle=function(e){var t=s[e];if(void 0!==t){var n=-angle(t.p1,t.p2)+Math.PI/2;return t.p1[0]>t.p2[0]&&(n=2*Math.PI-n),n}},s.startAngle=function(e){var t=s[e];if(void 0!==t){var n=-angle(t.p1,t.p3)+Math.PI/2;return t.p1[0]>t.p3[0]&&(n=2*Math.PI-n),n}},s.length=function(e){var t=s[e];if(void 0!==t)return n(t.p1[0]-t.p2[0],t.p1[1]-t.p2[1])},v.on(\"axesreorder.arcs\",function(){var e=Object.getOwnPropertyNames(s).filter(function(e){return!isNaN(e)});0<e.length&&(e.forEach(function(e){var t=s[e].dims;s.active=e,function(e,t){var n=g.dimensions.length;return g.dimensions.some(function(r,i){return r===e&&i+i<n&&g.dimensions[i+1]===t})}(t.left,t.right)||i()}),a()())}),v.selection.select(\"svg\").append(\"g\").attr(\"id\",\"arcs\").attr(\"transform\",\"translate(\"+g.margin.left+\",\"+g.margin.top+\")\"),v.brushReset=function(e){return function(){Object.getOwnPropertyNames(e).filter(function(e){return!isNaN(e)}).forEach(function(t){e.active=t,i()}),a()()}}(s),r.on(\"dragstart\",e()).on(\"drag\",t()).on(\"dragend\",a()),o=v.selection.select(\"svg\").insert(\"rect\",\"g#arcs\").attr(\"id\",\"arc-events\").attr(\"x\",g.margin.left).attr(\"y\",g.margin.top).attr(\"width\",x()).attr(\"height\",y()+2).style(\"opacity\",0).call(r)},uninstall:function(){v.selection.select(\"svg\").select(\"g#arcs\").remove(),v.selection.select(\"svg\").select(\"rect#arc-events\").remove(),v.on(\"axesreorder.arcs\",void 0),delete v.brushReset,o=void 0},selected:r,brushState:function(){return s}}}(),v.interactive=function(){return A.interactive=!0,this},v.xscale=w,v.yscale=M,v.ctx=k,v.canvas=D,v.g=function(){return p},v.resize=function(){return v.selection.select(\"svg\").attr(\"width\",g.width).attr(\"height\",g.height),v.svg.attr(\"transform\",\"translate(\"+g.margin.left+\",\"+g.margin.top+\")\"),A.brushable&&v.brushReset(),v.autoscale(),p&&v.createAxes(),A.brushable&&v.brushable(),A.reorderable&&v.reorderable(),b.resize.call(this,{width:g.width,height:g.height,margin:g.margin}),this},v.highlight=function(e){return 0===arguments.length?g.highlighted:(g.highlighted=e,v.clear(\"highlight\"),d3.selectAll([D.foreground,D.brushed]).classed(\"faded\",!0),e.forEach(l),b.highlight.call(this,e),this)},v.unhighlight=function(){return g.highlighted=[],v.clear(\"highlight\"),d3.selectAll([D.foreground,D.brushed]).classed(\"faded\",!1),this},v.intersection=function(e,t,n,r){return{x:((e.x*t.y-e.y*t.x)*(n.x-r.x)-(e.x-t.x)*(n.x*r.y-n.y*r.x))/((e.x-t.x)*(n.y-r.y)-(e.y-t.y)*(n.x-r.x)),y:((e.x*t.y-e.y*t.x)*(n.y-r.y)-(e.y-t.y)*(n.x*r.y-n.y*r.x))/((e.x-t.x)*(n.y-r.y)-(e.y-t.y)*(n.x-r.x))}},v.version=\"0.7.0\",v.toString=function(){return\"Parallel Coordinates: \"+g.dimensions.length+\" dimensions (\"+d3.keys(g.data[0]).length+\" total) , \"+g.data.length+\" rows\"},v},d3.renderQueue=function(e){var t=[],n=10,r=function(){},i=0,a=function(e){e&&a.data(e),a.invalidate(),r(),a.render()};return a.render=function(){i=0;var r=!0;a.invalidate=function(){r=!1},d3.timer(function(){if(!r)return!0;if(i>t.length)return!0;for(var a=Math.min(i+n,t.length),o=i;o<a;o++)e(t[o],o);i+=n})},a.data=function(e){return a.invalidate(),t=e.slice(0),a},a.rate=function(e){return arguments.length?(n=e,a):n},a.remaining=function(){return t.length-i},a.clear=function(e){return arguments.length?(r=e,a):(r(),a)},a.invalidate=function(){},a}},2860:function(e,t){e.exports=function(){var e=[],t=function(n){0==e.length&&(e=d3.keys(n.data()[0][0])),n.selectAll(\".header\").data([!0]).enter().append(\"div\").attr(\"class\",\"header\");var r=n.select(\".header\").selectAll(\".cell\").data(e);r.enter().append(\"div\").attr(\"class\",function(e,t){return\"col-\"+t}).classed(\"cell\",!0),n.selectAll(\".header .cell\").text(function(e){return e}),r.exit().remove();var i=n.selectAll(\".row\").data(function(e){return e});i.enter().append(\"div\").attr(\"class\",\"row\"),i.exit().remove();var a=n.selectAll(\".row\").selectAll(\".cell\").data(function(t){return e.map(function(e){return t[e]})});return a.enter().append(\"div\").attr(\"class\",function(e,t){return\"col-\"+t}).classed(\"cell\",!0),a.exit().remove(),n.selectAll(\".cell\").text(function(e){return e}),t};return t.columns=function(t){return arguments.length?(e=t,this):e},t}},2899:function(e,t,n){\"use strict\";n.r(t);var r=n(849),i=n(492),a=n.n(i),o=n(0),s=n.n(o),l=n(837),u=n(2859),c=n.n(u),d=n(2860),h=n.n(d),f=(n(2857),n(2858),{data:s.a.arrayOf(s.a.object),width:s.a.number,height:s.a.number,colorMetric:s.a.string,includeSeries:s.a.bool,linearColorScheme:s.a.string,metrics:s.a.arrayOf(s.a.string),series:s.a.string,showDatatable:s.a.bool});function m(e,t){var n=t.data,r=t.width,i=t.height,o=t.colorMetric,s=t.includeSeries,u=t.linearColorScheme,d=t.metrics,f=t.series,m=t.showDatatable,g=s?[f].concat(d):d,p={};p[f]=\"string\",d.forEach(function(e){p[e]=\"number\"});var v=o?Object(l.a)().get(u).createLinearScale(a.a.extent(n,function(e){return e[o]})):function(){return\"grey\"},b=a.a.select(e).classed(\"superset-legacy-chart-parallel-coordinates\",!0);b.selectAll(\"*\").remove();var x=m?i/2:i,y=b.append(\"div\").style(\"height\",x+\"px\").classed(\"parcoords\",!0),A=c()()(y.node()).width(r).color(function(e){return v(e[o])}).alpha(.5).composite(\"darken\").height(x).data(n).dimensions(g).types(p).render().createAxes().shadows().reorderable().brushMode(\"1D-axes\");if(m){var w=h()();b.append(\"div\").style(\"height\",x+\"px\").datum(n).call(w).classed(\"parcoords grid\",!0).selectAll(\".row\").on({mouseover:function(e){A.highlight([e])},mouseout:A.unhighlight}),A.on(\"brush\",function(e){a.a.select(\".grid\").datum(e).call(w).selectAll(\".row\").on({mouseover:function(e){A.highlight([e])},mouseout:A.unhighlight})})}}m.displayName=\"ParallelCoordinates\",m.propTypes=f;var g=m;t.default=Object(r.a)(g)}}]);","extractedComments":[]}