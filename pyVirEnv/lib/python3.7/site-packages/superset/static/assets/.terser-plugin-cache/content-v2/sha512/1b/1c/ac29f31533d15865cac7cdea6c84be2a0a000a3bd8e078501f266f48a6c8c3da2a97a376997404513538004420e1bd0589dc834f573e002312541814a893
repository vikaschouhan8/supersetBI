{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{2795:function(t,e,n){},2796:function(t,e,n){},2797:function(t,e,n){},2886:function(t,e,n){\"use strict\";n.r(e);var i=n(849),o=n(0),a=n.n(o),r=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN};var s,l;1===(s=r).length&&(l=s,s=function(t,e){return r(l(t),e)});var u=function(t,e){var n,i;if(void 0===e){var o=!0,a=!1,r=void 0;try{for(var s,l=t[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var u=s.value;null!=u&&u>=u&&(void 0===n?n=i=u:(n>u&&(n=u),i<u&&(i=u)))}}catch(t){a=!0,r=t}finally{try{o||null==l.return||l.return()}finally{if(a)throw r}}}else{var h=-1,c=!0,m=!1,g=void 0;try{for(var d,f=t[Symbol.iterator]();!(c=(d=f.next()).done);c=!0){var p=d.value;null!=(p=e(p,++h,t))&&p>=p&&(void 0===n?n=i=p:(n>p&&(n=p),i<p&&(i=p)))}}catch(t){m=!0,g=t}finally{try{c||null==f.return||f.return()}finally{if(m)throw g}}}return[n,i]};var h=Array.prototype,c=(h.slice,h.map,function(t,e,n){t=+t,e=+e,n=(o=arguments.length)<2?(e=t,t=0,1):o<3?1:+n;for(var i=-1,o=0|Math.max(0,Math.ceil((e-t)/n)),a=new Array(o);++i<o;)a[i]=t+i*n;return a});Math.sqrt(50),Math.sqrt(10),Math.sqrt(2);var m=\"http://www.w3.org/1999/xhtml\",g={svg:\"http://www.w3.org/2000/svg\",xhtml:m,xlink:\"http://www.w3.org/1999/xlink\",xml:\"http://www.w3.org/XML/1998/namespace\",xmlns:\"http://www.w3.org/2000/xmlns/\"},d=function(t){var e=t+=\"\",n=e.indexOf(\":\");return n>=0&&\"xmlns\"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),g.hasOwnProperty(e)?{space:g[e],local:t}:t};var f=function(t){var e=d(t);return(e.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===m&&e.documentElement.namespaceURI===m?e.createElement(t):e.createElementNS(n,t)}})(e)};function p(){}var D=function(t){return null==t?p:function(){return this.querySelector(t)}};function y(){return[]}var w=function(t){return new Array(t.length)};function v(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}v.prototype={constructor:v,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var b=\"$\";function _(t,e,n,i,o,a){for(var r,s=0,l=e.length,u=a.length;s<u;++s)(r=e[s])?(r.__data__=a[s],i[s]=r):n[s]=new v(t,a[s]);for(;s<l;++s)(r=e[s])&&(o[s]=r)}function x(t,e,n,i,o,a,r){var s,l,u,h={},c=e.length,m=a.length,g=new Array(c);for(s=0;s<c;++s)(l=e[s])&&(g[s]=u=b+r.call(l,l.__data__,s,e),u in h?o[s]=l:h[u]=l);for(s=0;s<m;++s)(l=h[u=b+r.call(t,a[s],s,a)])?(i[s]=l,l.__data__=a[s],h[u]=null):n[s]=new v(t,a[s]);for(s=0;s<c;++s)(l=e[s])&&h[g[s]]===l&&(o[s]=l)}function M(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}var T=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function N(t){return t.trim().split(/^|\\s+/)}function S(t){return t.classList||new L(t)}function L(t){this._node=t,this._names=N(t.getAttribute(\"class\")||\"\")}function k(t,e){for(var n=S(t),i=-1,o=e.length;++i<o;)n.add(e[i])}function P(t,e){for(var n=S(t),i=-1,o=e.length;++i<o;)n.remove(e[i])}L.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute(\"class\",this._names.join(\" \")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute(\"class\",this._names.join(\" \")))},contains:function(t){return this._names.indexOf(t)>=0}};function C(){this.textContent=\"\"}function A(){this.innerHTML=\"\"}function F(){this.nextSibling&&this.parentNode.appendChild(this)}function E(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function O(){return null}function I(){var t=this.parentNode;t&&t.removeChild(this)}function R(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function H(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}var Y={},W=null;\"undefined\"!=typeof document&&(\"onmouseenter\"in document.documentElement||(Y={mouseenter:\"mouseover\",mouseleave:\"mouseout\"}));function z(t,e,n){return t=V(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function V(t,e,n){return function(i){var o=W;W=i;try{t.call(this,this.__data__,e,n)}finally{W=o}}}function U(t){return function(){var e=this.__on;if(e){for(var n,i=0,o=-1,a=e.length;i<a;++i)n=e[i],t.type&&n.type!==t.type||n.name!==t.name?e[++o]=n:this.removeEventListener(n.type,n.listener,n.capture);++o?e.length=o:delete this.__on}}}function G(t,e,n){var i=Y.hasOwnProperty(t.type)?z:V;return function(o,a,r){var s,l=this.__on,u=i(e,a,r);if(l)for(var h=0,c=l.length;h<c;++h)if((s=l[h]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=u,s.capture=n),void(s.value=e);this.addEventListener(t.type,u,n),s={type:t.type,name:t.name,value:e,listener:u,capture:n},l?l.push(s):this.__on=[s]}}function j(t,e,n){var i=T(t),o=i.CustomEvent;\"function\"==typeof o?o=new o(e,n):(o=i.document.createEvent(\"Event\"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}var q=[null];function B(t,e){this._groups=t,this._parents=e}function K(){return new B([[document.documentElement]],q)}B.prototype=K.prototype={constructor:B,select:function(t){\"function\"!=typeof t&&(t=D(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var a,r,s=e[o],l=s.length,u=i[o]=new Array(l),h=0;h<l;++h)(a=s[h])&&(r=t.call(a,a.__data__,h,s))&&(\"__data__\"in a&&(r.__data__=a.__data__),u[h]=r);return new B(i,this._parents)},selectAll:function(t){var e;\"function\"!=typeof t&&(t=null==(e=t)?y:function(){return this.querySelectorAll(e)});for(var n=this._groups,i=n.length,o=[],a=[],r=0;r<i;++r)for(var s,l=n[r],u=l.length,h=0;h<u;++h)(s=l[h])&&(o.push(t.call(s,s.__data__,h,l)),a.push(s));return new B(o,a)},filter:function(t){var e;\"function\"!=typeof t&&(e=t,t=function(){return this.matches(e)});for(var n=this._groups,i=n.length,o=new Array(i),a=0;a<i;++a)for(var r,s=n[a],l=s.length,u=o[a]=[],h=0;h<l;++h)(r=s[h])&&t.call(r,r.__data__,h,s)&&u.push(r);return new B(o,this._parents)},data:function(t,e){if(!t)return d=new Array(this.size()),h=-1,this.each(function(t){d[++h]=t}),d;var n,i=e?x:_,o=this._parents,a=this._groups;\"function\"!=typeof t&&(n=t,t=function(){return n});for(var r=a.length,s=new Array(r),l=new Array(r),u=new Array(r),h=0;h<r;++h){var c=o[h],m=a[h],g=m.length,d=t.call(c,c&&c.__data__,h,o),f=d.length,p=l[h]=new Array(f),D=s[h]=new Array(f);i(c,m,p,D,u[h]=new Array(g),d,e);for(var y,w,v=0,b=0;v<f;++v)if(y=p[v]){for(v>=b&&(b=v+1);!(w=D[b])&&++b<f;);y._next=w||null}}return(s=new B(s,o))._enter=l,s._exit=u,s},enter:function(){return new B(this._enter||this._groups.map(w),this._parents)},exit:function(){return new B(this._exit||this._groups.map(w),this._parents)},join:function(t,e,n){var i=this.enter(),o=this,a=this.exit();return i=\"function\"==typeof t?t(i):i.append(t+\"\"),null!=e&&(o=e(o)),null==n?a.remove():n(a),i&&o?i.merge(o).order():o},merge:function(t){for(var e=this._groups,n=t._groups,i=e.length,o=n.length,a=Math.min(i,o),r=new Array(i),s=0;s<a;++s)for(var l,u=e[s],h=n[s],c=u.length,m=r[s]=new Array(c),g=0;g<c;++g)(l=u[g]||h[g])&&(m[g]=l);for(;s<i;++s)r[s]=e[s];return new B(r,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i,o=t[e],a=o.length-1,r=o[a];--a>=0;)(i=o[a])&&(r&&4^i.compareDocumentPosition(r)&&r.parentNode.insertBefore(i,r),r=i);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=M);for(var n=this._groups,i=n.length,o=new Array(i),a=0;a<i;++a){for(var r,s=n[a],l=s.length,u=o[a]=new Array(l),h=0;h<l;++h)(r=s[h])&&(u[h]=r);u.sort(e)}return new B(o,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],o=0,a=i.length;o<a;++o){var r=i[o];if(r)return r}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var o,a=e[n],r=0,s=a.length;r<s;++r)(o=a[r])&&t.call(o,o.__data__,r,a);return this},attr:function(t,e){var n=d(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==e?n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:\"function\"==typeof e?n.local?function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}:function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}:n.local?function(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}:function(t,e){return function(){this.setAttribute(t,e)}})(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?function(t){return function(){this.style.removeProperty(t)}}:\"function\"==typeof e?function(t,e,n){return function(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}:function(t,e,n){return function(){this.style.setProperty(t,e,n)}})(t,e,null==n?\"\":n)):function(t,e){return t.style.getPropertyValue(e)||T(t).getComputedStyle(t,null).getPropertyValue(e)}(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?function(t){return function(){delete this[t]}}:\"function\"==typeof e?function(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}:function(t,e){return function(){this[t]=e}})(t,e)):this.node()[t]},classed:function(t,e){var n=N(t+\"\");if(arguments.length<2){for(var i=S(this.node()),o=-1,a=n.length;++o<a;)if(!i.contains(n[o]))return!1;return!0}return this.each((\"function\"==typeof e?function(t,e){return function(){(e.apply(this,arguments)?k:P)(this,t)}}:e?function(t){return function(){k(this,t)}}:function(t){return function(){P(this,t)}})(n,e))},text:function(t){return arguments.length?this.each(null==t?C:(\"function\"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?\"\":e}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?A:(\"function\"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?\"\":e}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(F)},lower:function(){return this.each(E)},append:function(t){var e=\"function\"==typeof t?t:f(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function(t,e){var n=\"function\"==typeof t?t:f(t),i=null==e?O:\"function\"==typeof e?e:D(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})},remove:function(){return this.each(I)},clone:function(t){return this.select(t?H:R)},datum:function(t){return arguments.length?this.property(\"__data__\",t):this.node().__data__},on:function(t,e,n){var i,o,a=function(t){return t.trim().split(/^|\\s+/).map(function(t){var e=\"\",n=t.indexOf(\".\");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}(t+\"\"),r=a.length;if(!(arguments.length<2)){for(s=e?G:U,null==n&&(n=!1),i=0;i<r;++i)this.each(s(a[i],e,n));return this}var s=this.node().__on;if(s)for(var l,u=0,h=s.length;u<h;++u)for(i=0,l=s[u];i<r;++i)if((o=a[i]).type===l.type&&o.name===l.name)return l.value},dispatch:function(t,e){return this.each((\"function\"==typeof e?function(t,e){return function(){return j(this,t,e.apply(this,arguments))}}:function(t,e){return function(){return j(this,t,e)}})(t,e))}};var Z=function(t){return\"string\"==typeof t?new B([[document.querySelector(t)]],[document.documentElement]):new B([[t]],q)},X=0;function J(){this._=\"@\"+(++X).toString(36)}J.prototype=function(){return new J}.prototype={constructor:J,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var $=n(837),Q=n(529),tt=n(530),et=n(1057),nt=(n(2797),n(492)),it=(nt=n(492),function(){function t(t,e){var i=n.options.cellSize*n._domainType[n.options.subDomain].column(t)+n.options.cellPadding*n._domainType[n.options.subDomain].column(t);return 2===arguments.length&&!0===e?i+=n.domainHorizontalLabelWidth+n.options.domainGutter+n.options.domainMargin[1]+n.options.domainMargin[3]:i}function e(t,e){var i=n.options.cellSize*n._domainType[n.options.subDomain].row(t)+n.options.cellPadding*n._domainType[n.options.subDomain].row(t);return 2===arguments.length&&!0===e&&(i+=n.options.domainGutter+n.domainVerticalLabelHeight+n.options.domainMargin[0]+n.options.domainMargin[2]),i}var n=this;for(var i in n.tip=Object(et.default)().attr(\"class\",\"d3-tip\").direction(\"n\").offset([-5,0]).html(function(t){return\"\\n      \"+n.options.timeFormatter(t.t)+\": <strong>\"+n.options.valueFormatter(t.v)+\"</strong>\\n    \"}),n.legendTip=Object(et.default)().attr(\"class\",\"d3-tip\").direction(\"n\").offset([-5,0]).html(function(t){return n.options.valueFormatter(t)}),this.allowedDataType=[\"json\",\"csv\",\"tsv\",\"txt\"],this.options={itemSelector:\"#cal-heatmap\",paintOnLoad:!0,range:12,cellSize:10,cellPadding:2,cellRadius:0,domainGutter:2,domainMargin:[0,0,0,0],valueFormatter:function(t){return t},timeFormatter:function(t){return t},domain:\"hour\",subDomain:\"min\",colLimit:null,rowLimit:null,weekStartOnMonday:!0,start:new Date,minDate:null,maxDate:null,data:\"\",dataType:this.allowedDataType[0],dataPostPayload:null,dataRequestHeaders:null,considerMissingDataAsZero:!1,loadOnInit:!0,verticalOrientation:!1,domainDynamicDimension:!0,label:{position:\"bottom\",align:\"center\",offset:{x:0,y:0},rotate:null,width:100,height:null},legend:[10,20,30,40],displayLegend:!0,legendCellSize:10,legendCellPadding:2,legendMargin:[0,0,0,0],legendVerticalPosition:\"bottom\",legendHorizontalPosition:\"left\",legendOrientation:\"horizontal\",legendColors:null,highlight:[],itemName:[\"item\",\"items\"],domainLabelFormat:null,subDomainTitleFormat:{empty:\"{date}\",filled:\"{count} {name} {connector} {date}\"},subDomainDateFormat:null,subDomainTextFormat:null,legendTitleFormat:{lower:\"less than {min} {name}\",inner:\"between {down} and {up} {name}\",upper:\"more than {max} {name}\"},animationDuration:500,nextSelector:!1,previousSelector:!1,itemNamespace:\"cal-heatmap\",tooltip:!1,onClick:null,afterLoad:null,afterLoadNextDomain:null,afterLoadPreviousDomain:null,onComplete:null,afterLoadData:function(t){return t},afterUpdate:null,onMaxDomainReached:null,onMinDomainReached:null},this._domainType={min:{name:\"minute\",level:10,maxItemNumber:60,defaultRowNumber:10,defaultColumnNumber:6,row:function(t){return n.getSubDomainRowNumber(t)},column:function(t){return n.getSubDomainColumnNumber(t)},position:{x:function(t){return Math.floor(t.getMinutes()/n._domainType.min.row(t))},y:function(t){return t.getMinutes()%n._domainType.min.row(t)}},format:{date:\"%H:%M, %A %B %-e, %Y\",legend:\"\",connector:\"at\"},extractUnit:function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes()).getTime()}},hour:{name:\"hour\",level:20,maxItemNumber:function(t){switch(n.options.domain){case\"day\":return 24;case\"week\":return 168;case\"month\":return 24*(n.options.domainDynamicDimension?n.getDayCountInMonth(t):31)}},defaultRowNumber:6,defaultColumnNumber:function(t){switch(n.options.domain){case\"day\":return 4;case\"week\":return 28;case\"month\":return n.options.domainDynamicDimension?n.getDayCountInMonth(t):31}},row:function(t){return n.getSubDomainRowNumber(t)},column:function(t){return n.getSubDomainColumnNumber(t)},position:{x:function(t){return\"month\"===n.options.domain?0<n.options.colLimit||0<n.options.rowLimit?Math.floor((t.getHours()+24*(t.getDate()-1))/n._domainType.hour.row(t)):Math.floor(t.getHours()/n._domainType.hour.row(t))+4*(t.getDate()-1):\"week\"===n.options.domain?0<n.options.colLimit||0<n.options.rowLimit?Math.floor((t.getHours()+24*n.getWeekDay(t))/n._domainType.hour.row(t)):Math.floor(t.getHours()/n._domainType.hour.row(t))+4*n.getWeekDay(t):Math.floor(t.getHours()/n._domainType.hour.row(t))},y:function(t){var e=t.getHours();if(0<n.options.colLimit||0<n.options.rowLimit)switch(n.options.domain){case\"month\":e+=24*(t.getDate()-1);break;case\"week\":e+=24*n.getWeekDay(t)}return Math.floor(e%n._domainType.hour.row(t))}},format:{date:\"%Hh, %A %B %-e, %Y\",legend:\"%H:00\",connector:\"at\"},extractUnit:function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours()).getTime()}},day:{name:\"day\",level:30,maxItemNumber:function(t){switch(n.options.domain){case\"week\":return 7;case\"month\":return n.options.domainDynamicDimension?n.getDayCountInMonth(t):31;case\"year\":return n.options.domainDynamicDimension?n.getDayCountInYear(t):366}},defaultColumnNumber:function(t){switch(t=new Date(t),n.options.domain){case\"week\":return 1;case\"month\":return n.options.domainDynamicDimension&&!n.options.verticalOrientation?n.getWeekNumber(new Date(t.getFullYear(),t.getMonth()+1,0))-n.getWeekNumber(t)+1:6;case\"year\":return n.options.domainDynamicDimension?n.getWeekNumber(new Date(t.getFullYear(),11,31))-n.getWeekNumber(new Date(t.getFullYear(),0))+1:54}},defaultRowNumber:7,row:function(t){return n.getSubDomainRowNumber(t)},column:function(t){return n.getSubDomainColumnNumber(t)},position:{x:function(t){switch(n.options.domain){case\"week\":return Math.floor(n.getWeekDay(t)/n._domainType.day.row(t));case\"month\":return 0<n.options.colLimit||0<n.options.rowLimit?Math.floor((t.getDate()-1)/n._domainType.day.row(t)):n.getWeekNumber(t)-n.getWeekNumber(new Date(t.getFullYear(),t.getMonth()));case\"year\":return 0<n.options.colLimit||0<n.options.rowLimit?Math.floor((n.getDayOfYear(t)-1)/n._domainType.day.row(t)):n.getWeekNumber(t)}},y:function(t){var e=n.getWeekDay(t);if(0<n.options.colLimit||0<n.options.rowLimit)switch(n.options.domain){case\"year\":e=n.getDayOfYear(t)-1;break;case\"week\":e=n.getWeekDay(t);break;case\"month\":e=t.getDate()-1}return Math.floor(e%n._domainType.day.row(t))}},format:{date:\"%A %B %-e, %Y\",legend:\"%e %b\",connector:\"on\"},extractUnit:function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()}},week:{name:\"week\",level:40,maxItemNumber:54,defaultColumnNumber:function(t){switch(t=new Date(t),n.options.domain){case\"year\":return n._domainType.week.maxItemNumber;case\"month\":return n.options.domainDynamicDimension?n.getWeekNumber(new Date(t.getFullYear(),t.getMonth()+1,0))-n.getWeekNumber(t):5}},defaultRowNumber:1,row:function(t){return n.getSubDomainRowNumber(t)},column:function(t){return n.getSubDomainColumnNumber(t)},position:{x:function(t){switch(n.options.domain){case\"year\":return Math.floor(n.getWeekNumber(t)/n._domainType.week.row(t));case\"month\":return Math.floor(n.getMonthWeekNumber(t)/n._domainType.week.row(t))}},y:function(t){return n.getWeekNumber(t)%n._domainType.week.row(t)}},format:{date:\"%B Week #%W\",legend:\"%B Week #%W\",connector:\"in\"},extractUnit:function(t){var e=new Date(t.getFullYear(),t.getMonth(),t.getDate()),i=e.getDay()-(n.options.weekStartOnMonday?1:0);return 0>i&&(i=6),e.setDate(e.getDate()-i),e.getTime()}},month:{name:\"month\",level:50,maxItemNumber:12,defaultColumnNumber:12,defaultRowNumber:1,row:function(){return n.getSubDomainRowNumber()},column:function(){return n.getSubDomainColumnNumber()},position:{x:function(t){return Math.floor(t.getMonth()/n._domainType.month.row(t))},y:function(t){return t.getMonth()%n._domainType.month.row(t)}},format:{date:\"%B %Y\",legend:\"%B\",connector:\"in\"},extractUnit:function(t){return new Date(t.getFullYear(),t.getMonth()).getTime()}},year:{name:\"year\",level:60,row:function(){return n.options.rowLimit||1},column:function(){return n.options.colLimit||1},position:{x:function(){return 1},y:function(){return 1}},format:{date:\"%Y\",legend:\"%Y\",connector:\"in\"},extractUnit:function(t){return new Date(t.getFullYear()).getTime()}}},this._domainType)if(this._domainType.hasOwnProperty(i)){var o=this._domainType[i];this._domainType[\"x_\"+i]={name:\"x_\"+i,level:o.type,maxItemNumber:o.maxItemNumber,defaultRowNumber:o.defaultRowNumber,defaultColumnNumber:o.defaultColumnNumber,row:o.column,column:o.row,position:{x:o.position.y,y:o.position.x},format:o.format,extractUnit:o.extractUnit}}this.lastInsertedSvg=null,this._completed=!1,this._domains=nt.map(),this.graphDim={width:0,height:0},this.legendDim={width:0,height:0},this.NAVIGATE_LEFT=1,this.NAVIGATE_RIGHT=2,this.RESET_ALL_ON_UPDATE=0,this.RESET_SINGLE_ON_UPDATE=1,this.APPEND_ON_UPDATE=2,this.DEFAULT_LEGEND_MARGIN=10,this.root=null,this.tooltip=null,this._maxDomainReached=!1,this._minDomainReached=!1,this.domainPosition=new ot,this.Legend=null,this.legendScale=null,this.DSTDomain=[],this._init=function(){return n.getDomain(n.options.start).map(function(t){return t.getTime()}).map(function(t){n._domains.set(t,n.getSubDomain(t).map(function(t){return{t:n._domainType[n.options.subDomain].extractUnit(t),v:null}}))}),n.root=nt.select(n.options.itemSelector).append(\"svg\").attr(\"class\",\"cal-heatmap-container\"),n.root.attr(\"x\",0).attr(\"y\",0).append(\"svg\").attr(\"class\",\"graph\"),n.Legend=new at(n),n.options.paintOnLoad&&function(){n.verticalDomainLabel=\"top\"===n.options.label.position||\"bottom\"===n.options.label.position,n.domainVerticalLabelHeight=null===n.options.label.height?Math.max(25,2*n.options.cellSize):n.options.label.height,n.domainHorizontalLabelWidth=0,\"\"===n.options.domainLabelFormat&&null===n.options.label.height&&(n.domainVerticalLabelHeight=0),n.verticalDomainLabel||(n.domainVerticalLabelHeight=0,n.domainHorizontalLabelWidth=n.options.label.width),n.paint(),!1!==n.options.nextSelector&&nt.select(n.options.nextSelector).on(\"click.\"+n.options.itemNamespace,function(){return nt.event.preventDefault(),n.loadNextDomain(1)}),!1!==n.options.previousSelector&&nt.select(n.options.previousSelector).on(\"click.\"+n.options.itemNamespace,function(){return nt.event.preventDefault(),n.loadPreviousDomain(1)}),n.Legend.redraw(n.graphDim.width-n.options.domainGutter-n.options.cellPadding),n.afterLoad();var t=n.getDomainKeys();n.options.loadOnInit?n.getDatas(n.options.data,new Date(t[0]),n.getSubDomain(t[t.length-1]).pop(),function(){n.fill(),n.onComplete()}):n.onComplete(),n.checkIfMinDomainIsReached(t[0]),n.checkIfMaxDomainIsReached(n.getNextDomain().getTime())}(),n.root.call(n.tip),n.root.call(n.legendTip),!0},this.paint=function(i){function a(t,e,o,a){var r=0;return!1===i?(r=e[o],e[o]+=a,n.domainPosition.setPosition(t,r),r):i===n.NAVIGATE_RIGHT?(n.domainPosition.setPosition(t,e[o]),l=a,u=n.domainPosition.getPositionFromIndex(1),n.domainPosition.shiftRightBy(u),e[o]):i===n.NAVIGATE_LEFT?(l=-(r=-a),u=e[o]-n.domainPosition.getLast(),n.domainPosition.setPosition(t,r),n.domainPosition.shiftLeftBy(l),r):void 0}var r=n.options;0===arguments.length&&(i=!1);var s=n.root.select(\".graph\").selectAll(\".graph-domain\").data(function(){var t=n.getDomainKeys();return i===n.NAVIGATE_LEFT?t.reverse():t},function(t){return t}),l=0,u=0,h=s.enter().append(\"svg\").attr(\"width\",function(e){return t(e,!0)}).attr(\"height\",function(t){return e(t,!0)}).attr(\"x\",function(e){return r.verticalOrientation?(n.graphDim.width=Math.max(n.graphDim.width,t(e,!0)),0):a(e,n.graphDim,\"width\",t(e,!0))}).attr(\"y\",function(t){return r.verticalOrientation?a(t,n.graphDim,\"height\",e(t,!0)):(n.graphDim.height=Math.max(n.graphDim.height,e(t,!0)),0)}).attr(\"class\",function(t){var e=\"graph-domain\",i=new Date(t);switch(r.domain){case\"hour\":e+=\" h_\"+i.getHours();case\"day\":e+=\" d_\"+i.getDate()+\" dy_\"+i.getDay();case\"week\":e+=\" w_\"+n.getWeekNumber(i);case\"month\":e+=\" m_\"+(i.getMonth()+1);case\"year\":e+=\" y_\"+i.getFullYear()}return e});n.lastInsertedSvg=h,h.append(\"rect\").attr(\"width\",function(e){return t(e,!0)-r.domainGutter-r.cellPadding}).attr(\"height\",function(t){return e(t,!0)-r.domainGutter-r.cellPadding}).attr(\"class\",\"domain-background\");var c=h.append(\"svg\").attr(\"x\",function(){return\"left\"===r.label.position?n.domainHorizontalLabelWidth+r.domainMargin[3]:r.domainMargin[3]}).attr(\"y\",function(){return\"top\"===r.label.position?n.domainVerticalLabelHeight+r.domainMargin[0]:r.domainMargin[0]}).attr(\"class\",\"graph-subdomain-group\").selectAll(\"g\").data(function(t){return n._domains.get(t)}).enter().append(\"g\");c.append(\"rect\").attr(\"class\",function(t){return\"graph-rect\"+n.getHighlightClassName(t.t)+(null===r.onClick?\"\":\" hover_cursor\")}).attr(\"width\",r.cellSize).attr(\"height\",r.cellSize).attr(\"x\",function(t){return n.positionSubDomainX(t.t)}).attr(\"y\",function(t){return n.positionSubDomainY(t.t)}).on(\"click\",function(t){if(null!==r.onClick)return n.onClick(new Date(t.t),t.v)}).call(function(t){0<r.cellRadius&&t.attr(\"rx\",r.cellRadius).attr(\"ry\",r.cellRadius),null!==n.legendScale&&null!==r.legendColors&&r.legendColors.hasOwnProperty(\"base\")&&t.attr(\"fill\",r.legendColors.base),r.tooltip&&t.on(\"mouseover\",function(t){n.tip.show(t,this)}).on(\"mouseout\",function(){n.tip.hide(o)})}),r.tooltip||c.append(\"title\").text(function(t){return n.formatDate(new Date(t.t),r.subDomainDateFormat)}),\"\"!==r.domainLabelFormat&&h.append(\"text\").attr(\"class\",\"graph-label\").attr(\"y\",function(t){var i=r.domainMargin[0];switch(r.label.position){case\"top\":i+=n.domainVerticalLabelHeight/2;break;case\"bottom\":i+=e(t)+n.domainVerticalLabelHeight/2}return i+r.label.offset.y*(\"right\"===r.label.rotate&&\"right\"===r.label.position||\"left\"===r.label.rotate&&\"left\"===r.label.position?-1:1)}).attr(\"x\",function(e){var i=r.domainMargin[3];switch(r.label.position){case\"right\":i+=t(e);break;case\"bottom\":case\"top\":i+=t(e)/2}return\"right\"===r.label.align?i+n.domainHorizontalLabelWidth-r.label.offset.x*(\"right\"===r.label.rotate?-1:1):i+r.label.offset.x}).attr(\"text-anchor\",function(){switch(r.label.align){case\"start\":case\"left\":return\"start\";case\"end\":case\"right\":return\"end\";default:return\"middle\"}}).attr(\"dominant-baseline\",function(){return n.verticalDomainLabel?\"middle\":\"top\"}).text(function(t){return n.formatDate(new Date(t),r.domainLabelFormat)}).call(function(e){switch(r.label.rotate){case\"right\":e.attr(\"transform\",function(e){var i=\"rotate(90), \";switch(r.label.position){case\"right\":i+=\"translate(-\"+t(e)+\" , -\"+t(e)+\")\";break;case\"left\":i+=\"translate(0, -\"+n.domainHorizontalLabelWidth+\")\"}return i});break;case\"left\":e.attr(\"transform\",function(e){var i=\"rotate(270), \";switch(r.label.position){case\"right\":i+=\"translate(-\"+(t(e)+n.domainHorizontalLabelWidth)+\" , \"+t(e)+\")\";break;case\"left\":i+=\"translate(-\"+n.domainHorizontalLabelWidth+\" , \"+n.domainHorizontalLabelWidth+\")\"}return i})}}),null!==r.subDomainTextFormat&&c.append(\"text\").attr(\"class\",function(t){return\"subdomain-text\"+n.getHighlightClassName(t.t)}).attr(\"x\",function(t){return n.positionSubDomainX(t.t)+r.cellSize/2}).attr(\"y\",function(t){return n.positionSubDomainY(t.t)+r.cellSize/2}).attr(\"text-anchor\",\"middle\").attr(\"dominant-baseline\",\"central\").text(function(t){return n.formatDate(new Date(t.t),r.subDomainTextFormat)}),!1!==i&&s.transition().duration(r.animationDuration).attr(\"x\",function(t){return r.verticalOrientation?0:n.domainPosition.getPosition(t)}).attr(\"y\",function(t){return r.verticalOrientation?n.domainPosition.getPosition(t):0});var m=n.graphDim.width,g=n.graphDim.height;r.verticalOrientation?n.graphDim.height+=l-u:n.graphDim.width+=l-u,s.exit().transition().duration(r.animationDuration).attr(\"x\",function(e){return r.verticalOrientation?0:i===n.NAVIGATE_LEFT?Math.min(n.graphDim.width,m):i===n.NAVIGATE_RIGHT?-t(e,!0):void 0}).attr(\"y\",function(t){if(!r.verticalOrientation)return 0;switch(i){case n.NAVIGATE_LEFT:return Math.min(n.graphDim.height,g);case n.NAVIGATE_RIGHT:return-e(t,!0)}}).remove(),n.resize()}});it.prototype={init:function(t){function e(t,e,n){if((e&&!1===t||t instanceof Element||\"string\"==typeof t)&&\"\"!==t)return!0;throw new Error(\"The \"+n+\" is not valid\")}function n(t){switch(\"number\"==typeof t&&(t=[t]),Array.isArray(t)||(console.log(\"Margin only takes an integer or an array of integers\"),t=[0]),t.length){case 1:return[t[0],t[0],t[0],t[0]];case 2:return[t[0],t[1],t[0],t[1]];case 3:return[t[0],t[1],t[2],t[1]];case 4:return t;default:return t.slice(0,4)}}var i=this,o=i.options=function t(e,n){for(var i in n)try{e[i]=n[i].constructor===Object?t(e[i],n[i]):n[i]}catch(t){e[i]=n[i]}return e}(i.options,t);if(function(){if(!i._domainType.hasOwnProperty(o.domain)||\"min\"===o.domain||\"x_\"===o.domain.substring(0,2))throw new Error(\"The domain '\"+o.domain+\"' is not valid\");if(!i._domainType.hasOwnProperty(o.subDomain)||\"year\"===o.subDomain)throw new Error(\"The subDomain '\"+o.subDomain+\"' is not valid\");if(i._domainType[o.domain].level<=i._domainType[o.subDomain].level)throw new Error(\"'\"+o.subDomain+\"' is not a valid subDomain to '\"+o.domain+\"'\")}(),e(o.itemSelector,!1,\"itemSelector\"),-1===i.allowedDataType.indexOf(o.dataType))throw new Error(\"The data type '\"+o.dataType+\"' is not valid data type\");if(null===nt.select(o.itemSelector)[0][0])throw new Error(\"The node '\"+o.itemSelector+\"' specified in itemSelector does not exists\");try{e(o.nextSelector,!0,\"nextSelector\"),e(o.previousSelector,!0,\"previousSelector\")}catch(t){return console.log(t.message),!1}t.hasOwnProperty(\"subDomain\")||(this.options.subDomain=function(t){return\"year\"===t?\"month\":\"month\"===t?\"day\":\"week\"===t?\"day\":\"day\"===t?\"hour\":\"min\"}(t.domain)),(\"string\"!=typeof o.itemNamespace||\"\"===o.itemNamespace)&&(console.log(\"itemNamespace can not be empty, falling back to cal-heatmap\"),o.itemNamespace=\"cal-heatmap\");var a=[\"data\",\"onComplete\",\"onClick\",\"afterLoad\",\"afterLoadData\",\"afterLoadPreviousDomain\",\"afterLoadNextDomain\",\"afterUpdate\"];for(var r in a)t.hasOwnProperty(a[r])&&(o[a[r]]=t[a[r]]);return o.subDomainDateFormat=\"string\"==typeof o.subDomainDateFormat||\"function\"==typeof o.subDomainDateFormat?o.subDomainDateFormat:this._domainType[o.subDomain].format.date,o.domainLabelFormat=\"string\"==typeof o.domainLabelFormat||\"function\"==typeof o.domainLabelFormat?o.domainLabelFormat:this._domainType[o.domain].format.legend,o.subDomainTextFormat=\"string\"==typeof o.subDomainTextFormat&&\"\"!==o.subDomainTextFormat||\"function\"==typeof o.subDomainTextFormat?o.subDomainTextFormat:null,o.domainMargin=n(o.domainMargin),o.legendMargin=n(o.legendMargin),o.highlight=i.expandDateSetting(o.highlight),o.itemName=function(t){return\"string\"==typeof t?[t,t+(\"\"===t?\"\":\"s\")]:Array.isArray(t)?1===t.length?[t[0],t[0]+\"s\"]:2<t.length?t.slice(0,2):t:[\"item\",\"items\"]}(o.itemName),o.colLimit=function(t){return 0<t?t:null}(o.colLimit),o.rowLimit=function(t){return 0<t&&0<o.colLimit?(console.log(\"colLimit and rowLimit are mutually exclusive, rowLimit will be ignored\"),null):0<t?t:null}(o.rowLimit),t.hasOwnProperty(\"legendMargin\")||function(){switch(o.legendVerticalPosition){case\"top\":o.legendMargin[2]=i.DEFAULT_LEGEND_MARGIN;break;case\"bottom\":o.legendMargin[0]=i.DEFAULT_LEGEND_MARGIN;break;case\"middle\":case\"center\":o.legendMargin[\"right\"===o.legendHorizontalPosition?3:1]=i.DEFAULT_LEGEND_MARGIN}}(),function(){if(!t.hasOwnProperty(\"label\")||t.hasOwnProperty(\"label\")&&!t.label.hasOwnProperty(\"align\")){switch(o.label.position){case\"left\":o.label.align=\"right\";break;case\"right\":o.label.align=\"left\";break;default:o.label.align=\"center\"}\"left\"===o.label.rotate?o.label.align=\"right\":\"right\"===o.label.rotate&&(o.label.align=\"left\")}t.hasOwnProperty(\"label\")&&(!t.hasOwnProperty(\"label\")||t.label.hasOwnProperty(\"offset\"))||\"left\"!==o.label.position&&\"right\"!==o.label.position||(o.label.offset={x:10,y:15})}(),this._init()},expandDateSetting:function(t){return Array.isArray(t)||(t=[t]),t.map(function(t){return\"now\"===t?new Date:!!(t instanceof Date)&&t}).filter(function(t){return!1!==t})},fill:function(t){var e=this,n=e.options;0===arguments.length&&(t=e.root.selectAll(\".graph-domain\"));var i=t.selectAll(\"svg\").selectAll(\"g\").data(function(t){return e._domains.get(t)});i.transition().duration(n.animationDuration).select(\"rect\").attr(\"class\",function(t){var i=e.getHighlightClassName(t.t).trim().split(\" \"),o=e.dateIsLessThan(t.t,new Date),a=e.dateIsEqual(t.t,new Date);return null!==e.legendScale&&(null!==t.v||!n.hasOwnProperty(\"considerMissingDataAsZero\")||n.considerMissingDataAsZero||n.legendColors.hasOwnProperty(\"base\"))||i.push(\"graph-rect\"),a?i.push(\"now\"):!o&&i.push(\"future\"),null===t.v?n.considerMissingDataAsZero&&o&&i.push(e.Legend.getClass(0,null===e.legendScale)):i.push(e.Legend.getClass(t.v,null===e.legendScale)),null!==n.onClick&&i.push(\"hover_cursor\"),i.join(\" \")}).call(function(t){return null!==e.legendScale&&void t.attr(\"fill\",function(t){return null===t.v&&n.hasOwnProperty(\"considerMissingDataAsZero\")&&!n.considerMissingDataAsZero&&n.legendColors.hasOwnProperty(\"base\")?n.legendColors.base:null!==n.legendColors&&n.legendColors.hasOwnProperty(\"empty\")&&(0===t.v||null===t.v&&n.hasOwnProperty(\"considerMissingDataAsZero\")&&n.considerMissingDataAsZero)?n.legendColors.empty:0>t.v&&0<n.legend[0]&&null!==n.legendColors&&n.legendColors.hasOwnProperty(\"overflow\")?n.legendColors.overflow:e.legendScale(Math.min(t.v,n.legend[n.legend.length-1]))})}),i.transition().duration(n.animationDuration).select(\"title\").text(function(t){return e.getSubDomainTitle(t)}),i.transition().duration(n.animationDuration).select(\"text\").attr(\"class\",function(t){return\"subdomain-text\"+e.getHighlightClassName(t.t)}).call(function(t){\"function\"==typeof n.subDomainTextFormat&&t.text(function(t){return n.subDomainTextFormat(t.t,t.v)})})},formatStringWithObject:function(t,e){for(var n in e)if(e.hasOwnProperty(n)){var i=new RegExp(\"\\\\{\"+n+\"\\\\}\",\"gi\");t=t.replace(i,e[n])}return t},triggerEvent:function(t,e,n){return!!(3===arguments.length&&n||null===this.options[t])||(\"function\"==typeof this.options[t]?(\"function\"==typeof e&&(e=e()),this.options[t].apply(this,e)):(console.log(\"Provided callback for \"+t+\" is not a function.\"),!1))},onClick:function(t,e){return this.triggerEvent(\"onClick\",[t,e])},afterLoad:function(){return this.triggerEvent(\"afterLoad\")},onComplete:function(){var t=this.triggerEvent(\"onComplete\",[],this._completed);return this._completed=!0,t},afterLoadPreviousDomain:function(t){var e=this;return this.triggerEvent(\"afterLoadPreviousDomain\",function(){var n=e.getSubDomain(t);return[n.shift(),n.pop()]})},afterLoadNextDomain:function(t){var e=this;return this.triggerEvent(\"afterLoadNextDomain\",function(){var n=e.getSubDomain(t);return[n.shift(),n.pop()]})},onMinDomainReached:function(t){return this._minDomainReached=t,this.triggerEvent(\"onMinDomainReached\",[t])},onMaxDomainReached:function(t){return this._maxDomainReached=t,this.triggerEvent(\"onMaxDomainReached\",[t])},checkIfMinDomainIsReached:function(t,e){this.minDomainIsReached(t)&&this.onMinDomainReached(!0),2===arguments.length&&this._maxDomainReached&&!this.maxDomainIsReached(e)&&this.onMaxDomainReached(!1)},checkIfMaxDomainIsReached:function(t,e){this.maxDomainIsReached(t)&&this.onMaxDomainReached(!0),2===arguments.length&&this._minDomainReached&&!this.minDomainIsReached(e)&&this.onMinDomainReached(!1)},afterUpdate:function(){return this.triggerEvent(\"afterUpdate\")},formatNumber:nt.format(\",g\"),formatDate:function(t,e){return 2>arguments.length&&(e=\"title\"),\"function\"==typeof e?e(t):nt.time.format(e)(t)},getSubDomainTitle:function(t){if(null===t.v&&!this.options.considerMissingDataAsZero)return this.formatStringWithObject(this.options.subDomainTitleFormat.empty,{date:this.formatDate(new Date(t.t),this.options.subDomainDateFormat)});var e=t.v;return null===e&&this.options.considerMissingDataAsZero&&(e=0),this.formatStringWithObject(this.options.subDomainTitleFormat.filled,{count:this.formatNumber(e),name:this.options.itemName[1===e?0:1],connector:this._domainType[this.options.subDomain].format.connector,date:this.formatDate(new Date(t.t),this.options.subDomainDateFormat)})},loadNextDomain:function(t){if(this._maxDomainReached||0===t)return!1;var e=this.loadNewDomains(this.NAVIGATE_RIGHT,this.getDomain(this.getNextDomain(),t));return this.afterLoadNextDomain(e.end),this.checkIfMaxDomainIsReached(this.getNextDomain().getTime(),e.start),!0},loadPreviousDomain:function(t){if(this._minDomainReached||0===t)return!1;var e=this.loadNewDomains(this.NAVIGATE_LEFT,this.getDomain(this.getDomainKeys()[0],-t).reverse());return this.afterLoadPreviousDomain(e.start),this.checkIfMinDomainIsReached(e.start,e.end),!0},loadNewDomains:function(t,e){function n(t){return{t:i._domainType[i.options.subDomain].extractUnit(t),v:null}}for(var i=this,o=t===this.NAVIGATE_LEFT,a=-1,r=e.length,s=this.getDomainKeys();++a<r;){if(o&&this.minDomainIsReached(e[a])){e=e.slice(0,a+1);break}if(!o&&this.maxDomainIsReached(e[a])){e=e.slice(0,a);break}}for(a=0,r=(e=e.slice(-this.options.range)).length;a<r;a++)this._domains.set(e[a].getTime(),this.getSubDomain(e[a]).map(n)),this._domains.remove(o?s.pop():s.shift());return s=this.getDomainKeys(),o&&(e=e.reverse()),this.paint(t),this.getDatas(this.options.data,e[0],this.getSubDomain(e[e.length-1]).pop(),function(){i.fill(i.lastInsertedSvg)}),{start:e[o?0:1],end:s[s.length-1]}},maxDomainIsReached:function(t){return null!==this.options.maxDate&&this.options.maxDate.getTime()<t},minDomainIsReached:function(t){return null!==this.options.minDate&&this.options.minDate.getTime()>=t},getDomainKeys:function(){return this._domains.keys().map(function(t){return parseInt(t,10)}).sort(function(t,e){return t-e})},positionSubDomainX:function(t){var e=this._domainType[this.options.subDomain].position.x(new Date(t));return e*this.options.cellSize+e*this.options.cellPadding},positionSubDomainY:function(t){var e=this._domainType[this.options.subDomain].position.y(new Date(t));return e*this.options.cellSize+e*this.options.cellPadding},getSubDomainColumnNumber:function(t){if(0<this.options.rowLimit){var e=this._domainType[this.options.subDomain].maxItemNumber;return\"function\"==typeof e&&(e=e(t)),Math.ceil(e/this.options.rowLimit)}var n=this._domainType[this.options.subDomain].defaultColumnNumber;return\"function\"==typeof n&&(n=n(t)),this.options.colLimit||n},getSubDomainRowNumber:function(t){if(0<this.options.colLimit){var e=this._domainType[this.options.subDomain].maxItemNumber;return\"function\"==typeof e&&(e=e(t)),Math.ceil(e/this.options.colLimit)}var n=this._domainType[this.options.subDomain].defaultRowNumber;return\"function\"==typeof n&&(n=n(t)),this.options.rowLimit||n},getHighlightClassName:function(t){if(t=new Date(t),0<this.options.highlight.length)for(var e in this.options.highlight)if(this.dateIsEqual(this.options.highlight[e],t))return this.isNow(this.options.highlight[e])?\" highlight-now\":\" highlight\";return\"\"},isNow:function(t){return this.dateIsEqual(t,new Date)},dateIsEqual:function(t,e){switch(t instanceof Date||(t=new Date(t)),e instanceof Date||(e=new Date(e)),this.options.subDomain){case\"x_min\":case\"min\":return t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate()&&t.getHours()===e.getHours()&&t.getMinutes()===e.getMinutes();case\"x_hour\":case\"hour\":return t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate()&&t.getHours()===e.getHours();case\"x_day\":case\"day\":return t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate();case\"x_week\":case\"week\":return t.getFullYear()===e.getFullYear()&&this.getWeekNumber(t)===this.getWeekNumber(e);case\"x_month\":case\"month\":return t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth();default:return!1}},dateIsLessThan:function(t,e){function n(t,e){return\"x_min\"===e||\"min\"===e?new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes()).getTime():\"x_hour\"===e||\"hour\"===e?new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours()).getTime():\"x_day\"===e||\"day\"===e?new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime():\"x_week\"===e||\"week\"===e||\"x_month\"===e||\"month\"===e?new Date(t.getFullYear(),t.getMonth()).getTime():t.getTime()}return t instanceof Date||(t=new Date(t)),e instanceof Date||(e=new Date(e)),n(t,this.options.subDomain)<n(e,this.options.subDomain)},getDayOfYear:nt.time.format(\"%j\"),getWeekNumber:function(t){return(!0===this.options.weekStartOnMonday?nt.time.format(\"%W\"):nt.time.format(\"%U\"))(t)},getMonthWeekNumber:function(t){\"number\"==typeof t&&(t=new Date(t));var e=this.getWeekNumber(new Date(t.getFullYear(),t.getMonth()));return this.getWeekNumber(t)-e-1},getWeekNumberInYear:function(t){\"number\"==typeof t&&(t=new Date(t))},getDayCountInMonth:function(t){return this.getEndOfMonth(t).getDate()},getDayCountInYear:function(t){return\"number\"==typeof t&&(t=new Date(t)),1===new Date(t.getFullYear(),1,29).getMonth()?366:365},getWeekDay:function(t){return!1===this.options.weekStartOnMonday?t.getDay():0===t.getDay()?6:t.getDay()-1},getEndOfMonth:function(t){return\"number\"==typeof t&&(t=new Date(t)),new Date(t.getFullYear(),t.getMonth()+1,0)},jumpDate:function(t,e,n){var i=new Date(t);return\"hour\"===n?i.setHours(i.getHours()+e):\"day\"===n?i.setHours(i.getHours()+24*e):\"week\"===n?i.setHours(i.getHours()+24*e*7):\"month\"===n?i.setMonth(i.getMonth()+e):\"year\"===n&&i.setFullYear(i.getFullYear()+e),new Date(i)},getMinuteDomain:function(t,e){var n,i=new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours());return n=e instanceof Date?new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours()):new Date(+i+1e3*e*60),nt.time.minutes(Math.min(i,n),Math.max(i,n))},getHourDomain:function(t,e){var n=new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours()),i=null;e instanceof Date?i=new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours()):(i=new Date(n)).setHours(i.getHours()+e);var o=nt.time.hours(Math.min(n,i),Math.max(n,i)),a=0,r=o.length;for(a=0;a<r;a++)if(0<a&&o[a].getHours()===o[a-1].getHours()){this.DSTDomain.push(o[a].getTime()),o.splice(a,1);break}return\"number\"==typeof e&&o.length>Math.abs(e)&&o.splice(o.length-1,1),o},getDayDomain:function(t,e){var n=new Date(t.getFullYear(),t.getMonth(),t.getDate()),i=null;return e instanceof Date?i=new Date(e.getFullYear(),e.getMonth(),e.getDate()):(i=new Date(n),i=new Date(i.setDate(i.getDate()+parseInt(e,10)))),nt.time.days(Math.min(n,i),Math.max(n,i))},getWeekDomain:function(t,e){var n;!1===this.options.weekStartOnMonday?n=new Date(t.getFullYear(),t.getMonth(),t.getDate()-t.getDay()):1===t.getDay()?n=new Date(t.getFullYear(),t.getMonth(),t.getDate()):0===t.getDay()?(n=new Date(t.getFullYear(),t.getMonth(),t.getDate())).setDate(n.getDate()-6):n=new Date(t.getFullYear(),t.getMonth(),t.getDate()-t.getDay()+1);var i=new Date(n),o=e;return\"object\"!=typeof e&&(o=new Date(i.setDate(i.getDate()+7*e))),!0===this.options.weekStartOnMonday?nt.time.mondays(Math.min(n,o),Math.max(n,o)):nt.time.sundays(Math.min(n,o),Math.max(n,o))},getMonthDomain:function(t,e){var n=new Date(t.getFullYear(),t.getMonth()),i=null;return e instanceof Date?i=new Date(e.getFullYear(),e.getMonth()):i=(i=new Date(n)).setMonth(i.getMonth()+e),nt.time.months(Math.min(n,i),Math.max(n,i))},getYearDomain:function(t,e){var n,i=new Date(t.getFullYear(),0);return n=e instanceof Date?new Date(e.getFullYear(),0):new Date(t.getFullYear()+e,0),nt.time.years(Math.min(i,n),Math.max(i,n))},getDomain:function(t,e){switch(\"number\"==typeof t&&(t=new Date(t)),2>arguments.length&&(e=this.options.range),this.options.domain){case\"hour\":var n=this.getHourDomain(t,e);return\"number\"==typeof e&&n.length<e&&(0<e?n.push(this.getHourDomain(n[n.length-1],2)[1]):n.shift(this.getHourDomain(n[0],-2)[0])),n;case\"day\":return this.getDayDomain(t,e);case\"week\":return this.getWeekDomain(t,e);case\"month\":return this.getMonthDomain(t,e);case\"year\":return this.getYearDomain(t,e)}},getSubDomain:function(t){\"number\"==typeof t&&(t=new Date(t));var e=this;switch(this.options.subDomain){case\"x_min\":case\"min\":return this.getMinuteDomain(t,function(t,e){return\"hour\"===e?60:\"day\"===e?1440:\"week\"===e?10080:void 0}(0,this.options.domain));case\"x_hour\":case\"hour\":return this.getHourDomain(t,function(t,n){return\"day\"===n?24:\"week\"===n?168:\"month\"===n?24*e.getDayCountInMonth(t):void 0}(t,this.options.domain));case\"x_day\":case\"day\":return this.getDayDomain(t,function(t,n){return\"year\"===n?e.getDayCountInYear(t):\"month\"===n?e.getDayCountInMonth(t):\"week\"===n?7:void 0}(t,this.options.domain));case\"x_week\":case\"week\":return this.getWeekDomain(t,function(t,n){if(\"month\"===n){var i=new Date(t.getFullYear(),t.getMonth()+1,0),o=e.getWeekNumber(i),a=e.getWeekNumber(new Date(t.getFullYear(),t.getMonth()));return a>o&&(a=0,o++),o-a+1}return\"year\"===n?e.getWeekNumber(new Date(t.getFullYear(),11,31)):void 0}(t,this.options.domain));case\"x_month\":case\"month\":return this.getMonthDomain(t,12)}},getNextDomain:function(t){return 0===arguments.length&&(t=1),this.getDomain(this.jumpDate(this.getDomainKeys().pop(),t,this.options.domain),1)[0]},getPreviousDomain:function(t){return 0===arguments.length&&(t=1),this.getDomain(this.jumpDate(this.getDomainKeys().shift(),-t,this.options.domain),1)[0]},getDatas:function(t,e,n,i,o,a){var r=this;5>arguments.length&&(o=!0),6>arguments.length&&(a=this.APPEND_ON_UPDATE);var s=function(t,s){!1===o?(\"csv\"===r.options.dataType||\"tsv\"===r.options.dataType)&&(s=this.interpretCSV(s)):\"function\"==typeof o?s=o(s):\"function\"==typeof r.options.afterLoadData?s=r.options.afterLoadData(s):console.log(\"Provided callback for afterLoadData is not a function.\"),r.parseDatas(s,a,e,n),\"function\"==typeof i&&i()};switch(typeof t){case\"string\":if(\"\"===t)return s(0,{}),!0;var l=this.parseURI(t,e,n),u=\"GET\";null!==r.options.dataPostPayload&&(u=\"POST\");var h=null;null!==r.options.dataPostPayload&&(h=this.parseURI(r.options.dataPostPayload,e,n));var c=null;switch(this.options.dataType){case\"json\":c=nt.json(l);break;case\"csv\":c=nt.csv(l);break;case\"tsv\":c=nt.tsv(l);break;case\"txt\":c=nt.text(l,\"text/plain\")}if(null!==r.options.dataRequestHeaders)for(var m in r.options.dataRequestHeaders)r.options.dataRequestHeaders.hasOwnProperty(m)&&c.header(m,r.options.dataRequestHeaders[m]);return c.send(u,h,s),!1;case\"object\":if(t===Object(t))return s(0,t),!1;default:return s(0,{}),!0}},parseDatas:function(t,e,n,i){e===this.RESET_ALL_ON_UPDATE&&this._domains.forEach(function(t,e){e.forEach(function(t,e,n){n[e].v=null})});var o={},a=function(t){return t.t};for(var r in t){var s=new Date(1e3*r),l=this.getDomain(s)[0].getTime();if(0<=this.DSTDomain.indexOf(l)&&this._domains.has(l-36e5)&&(l-=36e5),!isNaN(r)&&t.hasOwnProperty(r)&&this._domains.has(l)&&l>=+n&&l<+i){var u=this._domains.get(l);o.hasOwnProperty(l)||(o[l]=u.map(a));var h=o[l].indexOf(this._domainType[this.options.subDomain].extractUnit(s));e===this.RESET_SINGLE_ON_UPDATE?u[h].v=t[r]:isNaN(u[h].v)?u[h].v=t[r]:u[h].v+=t[r]}}},parseURI:function(t,e,n){return t=(t=(t=(t=t.replace(/\\{\\{t:start\\}\\}/g,e.getTime()/1e3)).replace(/\\{\\{t:end\\}\\}/g,n.getTime()/1e3)).replace(/\\{\\{d:start\\}\\}/g,e.toISOString())).replace(/\\{\\{d:end\\}\\}/g,n.toISOString())},interpretCSV:function(t){var e,n,i={},o=Object.keys(t[0]);for(e=0,n=t.length;e<n;e++)i[t[e][o[0]]]=+t[e][o[1]];return i},resize:function(){var t=this,e=t.options,n=e.displayLegend?t.Legend.getDim(\"width\")+e.legendMargin[1]+e.legendMargin[3]:0,i=e.displayLegend?t.Legend.getDim(\"height\")+e.legendMargin[0]+e.legendMargin[2]:0,o=t.graphDim.width-e.domainGutter-e.cellPadding,a=t.graphDim.height-e.domainGutter-e.cellPadding;this.root.transition().duration(e.animationDuration).attr(\"width\",function(){return\"middle\"===e.legendVerticalPosition||\"center\"===e.legendVerticalPosition?o+n:Math.max(o,n)}).attr(\"height\",function(){return\"middle\"===e.legendVerticalPosition||\"center\"===e.legendVerticalPosition?Math.max(a,i):a+i}),this.root.select(\".graph\").transition().duration(e.animationDuration).attr(\"y\",function(){return\"top\"===e.legendVerticalPosition?i:0}).attr(\"x\",function(){return\"middle\"!==e.legendVerticalPosition&&\"center\"!==e.legendVerticalPosition||\"left\"!==e.legendHorizontalPosition?0:n})},next:function(t){return 0===arguments.length&&(t=1),this.loadNextDomain(t)},previous:function(t){return 0===arguments.length&&(t=1),this.loadPreviousDomain(t)},jumpTo:function(t,e){2>arguments.length&&(e=!1);var n=this.getDomainKeys(),i=n[0],o=n[n.length-1];return t<i?this.loadPreviousDomain(this.getDomain(i,t).length):e?this.loadNextDomain(this.getDomain(i,t).length):!!(t>o)&&this.loadNextDomain(this.getDomain(o,t).length)},rewind:function(){this.jumpTo(this.options.start,!0)},update:function(t,e,n){0===arguments.length&&(t=this.options.data),2>arguments.length&&(e=!0),3>arguments.length&&(n=this.RESET_ALL_ON_UPDATE);var i=this.getDomainKeys(),o=this;this.getDatas(t,new Date(i[0]),this.getSubDomain(i[i.length-1]).pop(),function(){o.fill(),o.afterUpdate()},e,n)},setLegend:function(){var t=this.options.legend.slice(0);1<=arguments.length&&Array.isArray(arguments[0])&&(this.options.legend=arguments[0]),2<=arguments.length&&(Array.isArray(arguments[1])&&2<=arguments[1].length?this.options.legendColors=[arguments[1][0],arguments[1][1]]:this.options.legendColors=arguments[1]),(0<arguments.length&&!function t(e,n){if(!n||!e)return!1;if(e.length!==n.length)return!1;for(var i=0;i<e.length;i++)if(e[i]instanceof Array&&n[i]instanceof Array){if(!t(e[i],n[i]))return!1}else if(e[i]!==n[i])return!1;return!0}(t,this.options.legend)||2<=arguments.length)&&(this.Legend.buildColors(),this.fill()),this.Legend.redraw(this.graphDim.width-this.options.domainGutter-this.options.cellPadding)},removeLegend:function(){return!!this.options.displayLegend&&(this.options.displayLegend=!1,this.Legend.remove(),!0)},showLegend:function(){return!this.options.displayLegend&&(this.options.displayLegend=!0,this.Legend.redraw(this.graphDim.width-this.options.domainGutter-this.options.cellPadding),!0)},highlight:function(t){return!!(0<(this.options.highlight=this.expandDateSetting(t)).length)&&(this.fill(),!0)},destroy:function(t){return this.root.transition().duration(this.options.animationDuration).attr(\"width\",0).attr(\"height\",0).remove().each(\"end\",function(){\"function\"==typeof t?t():void 0!==t&&console.log(\"Provided callback for destroy() is not a function.\")}),null},getSVG:function(){for(var t={\".cal-heatmap-container\":{},\".graph\":{},\".graph-rect\":{},\"rect.highlight\":{},\"rect.now\":{},\"rect.highlight-now\":{},\"text.highlight\":{},\"text.now\":{},\"text.highlight-now\":{},\".domain-background\":{},\".graph-label\":{},\".subdomain-text\":{},\".q0\":{},\".qi\":{}},e=1,n=this.options.legend.length+1;e<=n;e++)t[\".q\"+e]={};var i=this.root,o=[\"stroke\",\"stroke-width\",\"stroke-opacity\",\"stroke-dasharray\",\"stroke-dashoffset\",\"stroke-linecap\",\"stroke-miterlimit\",\"fill\",\"fill-opacity\",\"fill-rule\",\"marker\",\"marker-start\",\"marker-mid\",\"marker-end\",\"alignement-baseline\",\"baseline-shift\",\"dominant-baseline\",\"glyph-orientation-horizontal\",\"glyph-orientation-vertical\",\"kerning\",\"text-anchor\",\"shape-rendering\",\"text-transform\",\"font-family\",\"font\",\"font-size\",\"font-weight\"],a=function(e,n,i){-1!==o.indexOf(n)&&(t[e][n]=i)},r=function(t){return i.select(t)[0][0]};for(var s in t)if(t.hasOwnProperty(s)){var l=r(s);if(null!==l)if(\"getComputedStyle\"in window){var u=getComputedStyle(l,null);if(0!==u.length)for(var h=0;h<u.length;h++)a(s,u.item(h),u.getPropertyValue(u.item(h)));else for(var c in u)u.hasOwnProperty(c)&&a(s,c,u[c])}else if(\"currentStyle\"in l){var m=l.currentStyle;for(var g in m)a(s,g,m[g])}}var d='<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"><style type=\"text/css\"><![CDATA[ ';for(var f in t){for(var p in d+=f+\" {\\n\",t[f])d+=\"\\t\"+p+\":\"+t[f][p]+\";\\n\";d+=\"}\\n\"}return d+=\"]]></style>\",d+=(new XMLSerializer).serializeToString(this.root[0][0]),d+=\"</svg>\"}};var ot=function(){this.positions=nt.map()};ot.prototype.getPosition=function(t){return this.positions.get(t)},ot.prototype.getPositionFromIndex=function(t){var e=this.getKeys();return this.positions.get(e[t])},ot.prototype.getLast=function(){var t=this.getKeys();return this.positions.get(t[t.length-1])},ot.prototype.setPosition=function(t,e){this.positions.set(t,e)},ot.prototype.shiftRightBy=function(t){this.positions.forEach(function(e,n){this.set(e,n-t)});var e=this.getKeys();this.positions.remove(e[0])},ot.prototype.shiftLeftBy=function(t){this.positions.forEach(function(e,n){this.set(e,n+t)});var e=this.getKeys();this.positions.remove(e[e.length-1])},ot.prototype.getKeys=function(){return this.positions.keys().sort(function(t,e){return parseInt(t,10)-parseInt(e,10)})};var at=function(t){this.calendar=t,this.computeDim(),null!==t.options.legendColors&&this.buildColors()};at.prototype.computeDim=function(){var t=this.calendar.options;this.dim={width:t.legendCellSize*(t.legend.length+1)+t.legendCellPadding*t.legend.length,height:t.legendCellSize}},at.prototype.remove=function(){this.calendar.root.select(\".graph-legend\").remove(),this.calendar.resize()},at.prototype.redraw=function(t){function e(t){t.attr(\"width\",l.legendCellSize).attr(\"height\",l.legendCellSize).attr(\"rx\",l.legendCellRadius).attr(\"ry\",l.legendCellRadius).attr(\"x\",function(t,e){return e*(l.legendCellSize+l.legendCellPadding)})}function n(){switch(l.legendHorizontalPosition){case\"right\":return\"center\"===l.legendVerticalPosition||\"middle\"===l.legendVerticalPosition?t+l.legendMargin[3]:t-a.getDim(\"width\")-l.legendMargin[1];case\"middle\":case\"center\":return Math.round(t/2-a.getDim(\"width\")/2);default:return l.legendMargin[3]}}function i(){return\"bottom\"===l.legendVerticalPosition?r.graphDim.height+l.legendMargin[0]-l.domainGutter-l.cellPadding:l.legendMargin[0]}if(!this.calendar.options.displayLegend)return!1;var o,a=this,r=this.calendar,s=r.root,l=r.options;this.computeDim();var u=l.legend.slice(0);u.push(u[u.length-1]+1);var h=r.root.select(\".graph-legend\");null===h[0][0]?((s=\"top\"===l.legendVerticalPosition?s.insert(\"svg\",\".graph\"):s.append(\"svg\")).attr(\"x\",n()).attr(\"y\",i()),o=s.attr(\"class\",\"graph-legend\").attr(\"height\",a.getDim(\"height\")).attr(\"width\",a.getDim(\"width\")).append(\"g\").selectAll().data(u)):o=(s=h).select(\"g\").selectAll(\"rect\").data(u),o.enter().append(\"rect\").call(e).attr(\"class\",function(t){return r.Legend.getClass(t,null===r.legendScale)}).attr(\"fill-opacity\",0).call(function(t){null!==r.legendScale&&null!==l.legendColors&&l.legendColors.hasOwnProperty(\"base\")&&t.attr(\"fill\",l.legendColors.base)}).append(\"title\"),o.exit().transition().duration(l.animationDuration).attr(\"fill-opacity\",0).remove(),o.transition().delay(function(t,e){return l.animationDuration*e/10}).call(e).attr(\"fill-opacity\",1).call(function(t){t.attr(\"fill\",function(t,e){return null===r.legendScale?\"\":0===e?r.legendScale(t-1):r.legendScale(l.legend[e-1])}),t.attr(\"class\",function(t){return r.Legend.getClass(t,null===r.legendScale)})}),o.select(\"title\").text(function(t,e){return 0===e?r.formatStringWithObject(l.legendTitleFormat.lower,{min:l.legend[e],name:l.itemName[1]}):e===u.length-1?r.formatStringWithObject(l.legendTitleFormat.upper,{max:l.legend[e-1],name:l.itemName[1]}):r.formatStringWithObject(l.legendTitleFormat.inner,{down:l.legend[e-1],up:l.legend[e],name:l.itemName[1]})}),o.on(\"mouseover\",function(t){r.legendTip.show(t,this)}).on(\"mouseout\",function(){r.legendTip.hide()}),s.transition().duration(l.animationDuration).attr(\"x\",n()).attr(\"y\",i()).attr(\"width\",a.getDim(\"width\")).attr(\"height\",a.getDim(\"height\")),s.select(\"g\").transition().duration(l.animationDuration).attr(\"transform\",function(){return\"vertical\"===l.legendOrientation?\"rotate(90 \"+l.legendCellSize/2+\" \"+l.legendCellSize/2+\")\":\"\"}),r.resize()},at.prototype.getDim=function(t){var e=\"horizontal\"===this.calendar.options.legendOrientation;return\"width\"===t?this.dim[e?\"width\":\"height\"]:\"height\"===t?this.dim[e?\"height\":\"width\"]:void 0},at.prototype.buildColors=function(){var t=this.calendar.options;if(null===t.legendColors)return this.calendar.legendScale=null,!1;var e=[];if(Array.isArray(t.legendColors))e=t.legendColors;else{if(!t.legendColors.hasOwnProperty(\"min\")||!t.legendColors.hasOwnProperty(\"max\"))return t.legendColors=null,!1;e=[t.legendColors.min,t.legendColors.max]}var n=t.legend.slice(0);0<n[0]?n.unshift(0):0>=n[0]&&n.unshift(n[0]-(n[n.length-1]-n[0])/n.length);var i=t.legendColors.hasOwnProperty(\"colorScale\")?t.legendColors.colorScale:nt.scale.linear().range(e).interpolate(nt.interpolateHcl).domain([nt.min(n),nt.max(n)]),o=n.map(function(t){return i(t)});return this.calendar.legendScale=nt.scale.threshold().domain(t.legend).range(o),!0},at.prototype.getClass=function(t,e){if(null===t||isNaN(t))return\"\";for(var n=[this.calendar.options.legend.length+1],i=0,o=this.calendar.options.legend.length-1;i<=o;i++){if(0<this.calendar.options.legend[0]&&0>t){n=[\"1\",\"i\"];break}if(t<=this.calendar.options.legend[i]){n=[i+1];break}}return 0===t&&n.push(0),n.unshift(\"\"),(n.join(\" r\")+(e?n.join(\" q\"):\"\")).trim()};var rt=it;n(2795),n(2796);var st=function(t){return function(t){return new Date(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds())}(new Date(t)).getTime()},lt={data:a.a.shape({data:a.a.object,domain:a.a.string,range:a.a.number,start:a.a.number,subdomain:a.a.string}),height:a.a.number,cellPadding:a.a.number,cellRadius:a.a.number,cellSize:a.a.number,linearColorScheme:a.a.string,showLegend:a.a.bool,showMetricName:a.a.bool,showValues:a.a.bool,steps:a.a.number,timeFormat:a.a.string,valueFormat:a.a.string,verboseMap:a.a.object};function ut(t,e){var n=e.data,i=e.height,o=e.cellPadding,a=void 0===o?3:o,r=e.cellRadius,s=void 0===r?0:r,l=e.cellSize,h=void 0===l?10:l,m=e.linearColorScheme,g=e.showLegend,d=e.showMetricName,f=e.showValues,p=e.steps,D=e.timeFormat,y=e.valueFormat,w=e.verboseMap,v=Object(Q.c)(y),b=Object(tt.c)(D),_=Z(t).classed(\"superset-legacy-chart-calendar\",!0).style(\"height\",i);_.selectAll(\"*\").remove();var x=_.append(\"div\"),M=f?function(t,e){return v(e)}:null,T={};Object.keys(n.data).forEach(function(t){T[t]={},Object.keys(n.data[t]).forEach(function(e){T[t][st(1e3*e)/1e3]=n.data[t][e]})}),Object.keys(T).forEach(function(t){var e=x.append(\"div\");d&&e.text(\"Metric: \"+(w[t]||t));var i=T[t],o=u(Object.keys(i),function(t){return i[t]}),r=(o[1]-o[0])/(p-1),l=Object($.a)().get(m).createLinearScale(o),f=c(p).map(function(t){return o[0]+r*t}),D=f.map(l);(new rt).init({start:st(n.start),data:i,itemSelector:e.node(),legendVerticalPosition:\"top\",cellSize:h,cellPadding:a,cellRadius:s,legendCellSize:h,legendCellPadding:2,legendCellRadius:s,tooltip:!0,domain:n.domain,subDomain:n.subdomain,range:n.range,browsing:!0,legend:f,legendColors:{colorScale:l,min:D[0],max:D[D.length-1],empty:\"white\"},displayLegend:g,itemName:\"\",valueFormatter:v,timeFormatter:b,subDomainTextFormat:M})})}ut.displayName=\"Calendar\",ut.propTypes=lt;var ht=ut;e.default=Object(i.a)(ht)}}]);","extractedComments":[]}